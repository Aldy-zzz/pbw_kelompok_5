<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>RS Sehat Sejahtera - Pelayanan Kesehatan Terpercaya</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body {
            box-sizing: border-box;
        }
        
        .hero-bg {
            background: linear-gradient(135deg, rgba(59, 130, 246, 0.9), rgba(16, 185, 129, 0.8)), 
                        url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1200 600"><rect fill="%23f0f9ff" width="1200" height="600"/><circle fill="%23dbeafe" cx="200" cy="150" r="80"/><circle fill="%23bfdbfe" cx="800" cy="300" r="120"/><circle fill="%2393c5fd" cx="1000" cy="100" r="60"/><rect fill="%23ffffff" x="100" y="200" width="300" height="200" rx="20"/><rect fill="%23ffffff" x="500" y="150" width="200" height="150" rx="15"/><rect fill="%23ffffff" x="800" y="250" width="250" height="180" rx="18"/></svg>');
            background-size: cover;
            background-position: center;
        }
        
        .service-card:hover {
            transform: translateY(-5px);
            transition: all 0.3s ease;
        }
        
        .doctor-card:hover {
            transform: scale(1.02);
            transition: all 0.3s ease;
        }
        

        
        .btn-primary {
            background: linear-gradient(135deg, #3b82f6, #10b981);
            transition: all 0.3s ease;
        }
        
        .btn-primary:hover {
            background: linear-gradient(135deg, #2563eb, #059669);
            transform: translateY(-1px);
        }
        
        .floating-animation {
            animation: float 3s ease-in-out infinite;
        }
        
        @keyframes float {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-10px); }
        }
        
        .fade-in {
            opacity: 0;
            transform: translateY(30px);
            animation: fadeIn 0.8s ease forwards;
        }
        
        @keyframes fadeIn {
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        /* Enhanced Animations */
        .slide-in-left {
            opacity: 0;
            transform: translateX(-50px);
            animation: slideInLeft 1s ease forwards;
        }
        
        .slide-in-right {
            opacity: 0;
            transform: translateX(50px);
            animation: slideInRight 1s ease forwards;
        }
        
        .scale-in {
            opacity: 0;
            transform: scale(0.8);
            animation: scaleIn 0.8s ease forwards;
        }
        
        .bounce-in {
            opacity: 0;
            transform: scale(0.3);
            animation: bounceIn 1s ease forwards;
        }
        
        @keyframes slideInLeft {
            to {
                opacity: 1;
                transform: translateX(0);
            }
        }
        
        @keyframes slideInRight {
            to {
                opacity: 1;
                transform: translateX(0);
            }
        }
        
        @keyframes scaleIn {
            to {
                opacity: 1;
                transform: scale(1);
            }
        }
        
        @keyframes bounceIn {
            0% {
                opacity: 0;
                transform: scale(0.3);
            }
            50% {
                opacity: 1;
                transform: scale(1.05);
            }
            70% {
                transform: scale(0.9);
            }
            100% {
                opacity: 1;
                transform: scale(1);
            }
        }
        
        /* Pulse animation for emergency button */
        .pulse {
            animation: pulse 2s infinite;
        }
        
        @keyframes pulse {
            0% {
                transform: scale(1);
                box-shadow: 0 0 0 0 rgba(239, 68, 68, 0.7);
            }
            70% {
                transform: scale(1.05);
                box-shadow: 0 0 0 10px rgba(239, 68, 68, 0);
            }
            100% {
                transform: scale(1);
                box-shadow: 0 0 0 0 rgba(239, 68, 68, 0);
            }
        }
        
        /* Gradient animation for hero background */
        .gradient-animation {
            background: linear-gradient(-45deg, #3b82f6, #10b981, #06b6d4, #8b5cf6);
            background-size: 400% 400%;
            animation: gradientShift 15s ease infinite;
        }
        
        @keyframes gradientShift {
            0% {
                background-position: 0% 50%;
            }
            50% {
                background-position: 100% 50%;
            }
            100% {
                background-position: 0% 50%;
            }
        }
        
        /* Typing animation */
        .typing-animation {
            overflow: hidden;
            border-right: 3px solid #10b981;
            white-space: nowrap;
            animation: typing 3.5s steps(40, end), blink-caret 0.75s step-end infinite;
        }
        
        @keyframes typing {
            from { width: 0; }
            to { width: 100%; }
        }
        
        @keyframes blink-caret {
            from, to { border-color: transparent; }
            50% { border-color: #10b981; }
        }
        
        /* Stagger animation delays */
        .delay-100 { animation-delay: 0.1s; }
        .delay-200 { animation-delay: 0.2s; }
        .delay-300 { animation-delay: 0.3s; }
        .delay-400 { animation-delay: 0.4s; }
        .delay-500 { animation-delay: 0.5s; }
        .delay-600 { animation-delay: 0.6s; }
        
        /* Hover animations */
        .hover-lift:hover {
            transform: translateY(-8px) scale(1.02);
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
        }
        
        .hover-glow:hover {
            box-shadow: 0 0 30px rgba(59, 130, 246, 0.3);
        }
        
        /* Smooth transitions */
        * {
            transition: all 0.3s ease;
        }
        
        /* Loading animation for buttons */
        .btn-loading {
            position: relative;
            overflow: hidden;
        }
        
        .btn-loading::after {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent);
            animation: shimmer 2s infinite;
        }
        
        @keyframes shimmer {
            0% { left: -100%; }
            100% { left: 100%; }
        }

        /* Status badges */
        .status-pending { @apply bg-yellow-100 text-yellow-800 border-yellow-200; }
        .status-confirmed { @apply bg-blue-100 text-blue-800 border-blue-200; }
        .status-paid { @apply bg-green-100 text-green-800 border-green-200; }
        .status-cancelled { @apply bg-red-100 text-red-800 border-red-200; }

        /* Modal styles */
        .modal-overlay {
            background: rgba(0, 0, 0, 0.5);
            backdrop-filter: blur(4px);
        }

        /* Table hover effects */
        .table-row:hover {
            background: rgba(59, 130, 246, 0.05);
            transform: scale(1.01);
        }

        /* Notification animation */
        .notification {
            animation: slideInRight 0.5s ease, fadeOut 0.5s ease 4.5s forwards;
        }

        @keyframes fadeOut {
            to { opacity: 0; transform: translateX(100%); }
        }

        /* Admin tab styles */
        .admin-tab {
            transition: all 0.3s ease;
        }

        .admin-tab.active {
            border-color: #3b82f6;
            color: #3b82f6;
        }

        .admin-tab:not(.active):hover {
            color: #374151;
            border-color: #d1d5db;
        }

        .admin-tab-content {
            transition: opacity 0.3s ease;
        }
    </style>
</head>
<body class="font-sans bg-gray-50">
    <!-- Header -->
    <header class="bg-white shadow-lg sticky top-0 z-50">
        <div class="container mx-auto px-4 py-4">
            <div class="flex items-center justify-between">
                <!-- Logo -->
                <div class="flex items-center space-x-3">
                    <div class="w-12 h-12 bg-gradient-to-br from-blue-500 to-green-500 rounded-full flex items-center justify-center">
                        <svg class="w-8 h-8 text-white" fill="currentColor" viewBox="0 0 24 24">
                            <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"/>
                        </svg>
                    </div>
                    <div>
                        <h1 class="text-xl font-bold text-blue-600">RS Sehat Sejahtera</h1>
                        <p class="text-sm text-gray-600">Pelayanan Kesehatan Terpercaya</p>
                    </div>
                </div>
                
                <!-- Navigation -->
                <nav class="hidden md:flex items-center space-x-8">
                    <a href="#beranda" class="nav-link text-gray-700 font-medium hover:text-blue-600 transition-colors">Beranda</a>
                    <a href="#alur" class="nav-link text-gray-700 font-medium hover:text-blue-600 transition-colors">Alur Pelayanan</a>
                    <a href="#layanan" class="nav-link text-gray-700 font-medium hover:text-blue-600 transition-colors">Layanan</a>
                    <a href="#dokter" class="nav-link text-gray-700 font-medium hover:text-blue-600 transition-colors">Dokter</a>
                    <a href="#kontak" class="nav-link text-gray-700 font-medium hover:text-blue-600 transition-colors">Kontak</a>
                    <div class="flex space-x-2">
                        <button onclick="showPatientLoginModal()" class="flex items-center space-x-2 bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition-all hover:shadow-lg">
                            <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 24 24">
                                <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 3c1.66 0 3 1.34 3 3s-1.34 3-3 3-3-1.34-3-3 1.34-3 3-3zm0 14.2c-2.5 0-4.71-1.28-6-3.22.03-1.99 4-3.08 6-3.08 1.99 0 5.97 1.09 6 3.08-1.29 1.94-3.5 3.22-6 3.22z"/>
                            </svg>
                            <span>Login Pasien</span>
                        </button>
                        <button onclick="showLoginModal()" class="flex items-center space-x-2 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-all hover:shadow-lg">
                            <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 24 24">
                                <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 3c1.66 0 3 1.34 3 3s-1.34 3-3 3-3-1.34-3-3 1.34-3 3-3zm0 14.2c-2.5 0-4.71-1.28-6-3.22.03-1.99 4-3.08 6-3.08 1.99 0 5.97 1.09 6 3.08-1.29 1.94-3.5 3.22-6 3.22z"/>
                            </svg>
                            <span>Login Admin</span>
                        </button>
                    </div>
                </nav>
                
                <!-- Mobile Menu Button -->
                <button id="mobile-menu-btn" class="md:hidden p-2 rounded-lg bg-blue-50 text-blue-600">
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path>
                    </svg>
                </button>
            </div>
            
            <!-- Mobile Menu -->
            <div id="mobile-menu" class="hidden md:hidden mt-4 pb-4">
                <div class="flex flex-col space-y-3">
                    <a href="#beranda" class="nav-link text-gray-700 font-medium py-2 hover:text-blue-600 transition-colors">Beranda</a>
                    <a href="#alur" class="nav-link text-gray-700 font-medium py-2 hover:text-blue-600 transition-colors">Alur Pelayanan</a>
                    <a href="#layanan" class="nav-link text-gray-700 font-medium py-2 hover:text-blue-600 transition-colors">Layanan</a>
                    <a href="#dokter" class="nav-link text-gray-700 font-medium py-2 hover:text-blue-600 transition-colors">Dokter</a>
                    <a href="#kontak" class="nav-link text-gray-700 font-medium py-2 hover:text-blue-600 transition-colors">Kontak</a>
                    <button onclick="showPatientLoginModal()" class="flex items-center space-x-2 bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition-all mb-2">
                        <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 24 24">
                            <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 3c1.66 0 3 1.34 3 3s-1.34 3-3 3-3-1.34-3-3 1.34-3 3-3zm0 14.2c-2.5 0-4.71-1.28-6-3.22.03-1.99 4-3.08 6-3.08 1.99 0 5.97 1.09 6 3.08-1.29 1.94-3.5 3.22-6 3.22z"/>
                        </svg>
                        <span>Login Pasien</span>
                    </button>
                    <button onclick="showLoginModal()" class="flex items-center space-x-2 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-all">
                        <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 24 24">
                            <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 3c1.66 0 3 1.34 3 3s-1.34 3-3 3-3-1.34-3-3 1.34-3 3-3zm0 14.2c-2.5 0-4.71-1.28-6-3.22.03-1.99 4-3.08 6-3.08 1.99 0 5.97 1.09 6 3.08-1.29 1.94-3.5 3.22-6 3.22z"/>
                        </svg>
                        <span>Login Admin</span>
                    </button>
                </div>
            </div>
        </div>
    </header>

    <!-- Patient Login Modal -->
    <div id="patient-login-modal" class="hidden fixed inset-0 z-50 modal-overlay flex items-center justify-center p-4">
        <div class="bg-white rounded-2xl shadow-2xl max-w-md w-full p-8 scale-in">
            <div class="text-center mb-6">
                <div class="w-16 h-16 bg-green-500 rounded-full flex items-center justify-center mx-auto mb-4">
                    <svg class="w-8 h-8 text-white" fill="currentColor" viewBox="0 0 24 24">
                        <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 3c1.66 0 3 1.34 3 3s-1.34 3-3 3-3-1.34-3-3 1.34-3 3-3zm0 14.2c-2.5 0-4.71-1.28-6-3.22.03-1.99 4-3.08 6-3.08 1.99 0 5.97 1.09 6 3.08-1.29 1.94-3.5 3.22-6 3.22z"/>
                    </svg>
                </div>
                <h3 class="text-2xl font-bold text-gray-800">Login Pasien</h3>
                <p class="text-gray-600">Masuk untuk cek status pendaftaran</p>
            </div>
            
            <form id="patient-login-form" class="space-y-4">
                <div>
                    <label class="block text-gray-700 font-semibold mb-2">ID Pendaftaran</label>
                    <input type="text" id="patient-id" required class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent" placeholder="Contoh: RSH001">
                </div>
                <div>
                    <label class="block text-gray-700 font-semibold mb-2">No. Telepon</label>
                    <input type="tel" id="patient-phone" required class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent" placeholder="Nomor telepon saat daftar">
                </div>
                
                <div class="bg-green-50 p-4 rounded-lg">
                    <p class="text-sm text-green-700">
                        <strong>Demo Login:</strong><br>
                        ID: RSH001<br>
                        Telepon: 081234567890
                    </p>
                </div>
                
                <div class="flex space-x-3">
                    <button type="button" onclick="hidePatientLoginModal()" class="flex-1 bg-gray-300 text-gray-700 py-3 rounded-lg font-semibold hover:bg-gray-400">
                        Batal
                    </button>
                    <button type="submit" class="flex-1 bg-green-600 text-white py-3 rounded-lg font-semibold hover:bg-green-700">
                        Login
                    </button>
                </div>
            </form>
        </div>
    </div>

    <!-- Admin Login Modal -->
    <div id="login-modal" class="hidden fixed inset-0 z-50 modal-overlay flex items-center justify-center p-4">
        <div class="bg-white rounded-2xl shadow-2xl max-w-md w-full p-8 scale-in">
            <div class="text-center mb-6">
                <div class="w-16 h-16 bg-blue-500 rounded-full flex items-center justify-center mx-auto mb-4">
                    <svg class="w-8 h-8 text-white" fill="currentColor" viewBox="0 0 24 24">
                        <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 3c1.66 0 3 1.34 3 3s-1.34 3-3 3-3-1.34-3-3 1.34-3 3-3zm0 14.2c-2.5 0-4.71-1.28-6-3.22.03-1.99 4-3.08 6-3.08 1.99 0 5.97 1.09 6 3.08-1.29 1.94-3.5 3.22-6 3.22z"/>
                    </svg>
                </div>
                <h3 class="text-2xl font-bold text-gray-800">Login Administrator</h3>
                <p class="text-gray-600">Masuk ke dashboard admin</p>
            </div>
            
            <form id="admin-login-form" class="space-y-4">
                <div>
                    <label class="block text-gray-700 font-semibold mb-2">Username</label>
                    <input type="text" id="admin-username" required class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent" placeholder="Masukkan username">
                </div>
                <div>
                    <label class="block text-gray-700 font-semibold mb-2">Password</label>
                    <input type="password" id="admin-password" required class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent" placeholder="Masukkan password">
                </div>
                
                <div class="bg-blue-50 p-4 rounded-lg">
                    <p class="text-sm text-blue-700">
                        <strong>Demo Login:</strong><br>
                        Username: admin<br>
                        Password: admin123
                    </p>
                </div>
                
                <div class="flex space-x-3">
                    <button type="button" onclick="hideLoginModal()" class="flex-1 bg-gray-300 text-gray-700 py-3 rounded-lg font-semibold hover:bg-gray-400">
                        Batal
                    </button>
                    <button type="submit" class="flex-1 btn-primary text-white py-3 rounded-lg font-semibold">
                        Login
                    </button>
                </div>
            </form>
        </div>
    </div>

    <!-- Patient Dashboard -->
    <div id="patient-dashboard" class="hidden">
        <!-- Patient Header -->
        <div class="bg-gradient-to-r from-green-600 to-blue-600 text-white p-6">
            <div class="container mx-auto flex justify-between items-center">
                <div>
                    <h2 class="text-3xl font-bold">Dashboard Pasien</h2>
                    <p class="opacity-90">Informasi lengkap tentang pendaftaran Anda</p>
                </div>
                <div class="flex items-center space-x-4">
                    <div class="text-right">
                        <p class="font-semibold" id="patient-name-header">Pasien</p>
                        <p class="text-sm opacity-75" id="patient-id-header"></p>
                    </div>
                    <button onclick="logoutPatient()" class="bg-white bg-opacity-20 px-4 py-2 rounded-lg hover:bg-opacity-30">
                        Logout
                    </button>
                </div>
            </div>
        </div>

        <!-- Patient Info -->
        <div class="container mx-auto px-4 py-8">
            <!-- Status Card -->
            <div class="bg-white rounded-2xl shadow-lg p-8 mb-8">
                <div class="text-center mb-6">
                    <div class="w-20 h-20 bg-green-500 rounded-full flex items-center justify-center mx-auto mb-4">
                        <svg class="w-10 h-10 text-white" fill="currentColor" viewBox="0 0 24 24">
                            <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"/>
                        </svg>
                    </div>
                    <h3 class="text-2xl font-bold text-gray-800 mb-2">Status Pendaftaran</h3>
                    <div id="patient-status-badge" class="inline-block"></div>
                </div>
                
                <div id="patient-details" class="grid md:grid-cols-2 gap-6">
                    <!-- Patient details will be populated by JavaScript -->
                </div>
            </div>

            <!-- Payment Information -->
            <div id="payment-info-section" class="hidden bg-white rounded-2xl shadow-lg p-8 mb-8">
                <h3 class="text-2xl font-bold text-gray-800 mb-6 flex items-center">
                    <svg class="w-8 h-8 text-green-600 mr-3" fill="currentColor" viewBox="0 0 24 24">
                        <path d="M11.8 10.9c-2.27-.59-3-1.2-3-2.15 0-1.09 1.01-1.85 2.7-1.85 1.78 0 2.44.85 2.5 2.1h2.21c-.07-1.72-1.12-3.3-3.21-3.81V3h-3v2.16c-1.94.42-3.5 1.68-3.5 3.61 0 2.31 1.91 3.46 4.7 4.13 2.5.6 3 1.48 3 2.41 0 .69-.49 1.79-2.7 1.79-2.06 0-2.87-.92-2.98-2.1h-2.2c.12 2.19 1.76 3.42 3.68 3.83V21h3v-2.15c1.95-.37 3.5-1.5 3.5-3.55 0-2.84-2.43-3.81-4.7-4.4z"/>
                    </svg>
                    Informasi Pembayaran
                </h3>
                
                <div class="bg-gradient-to-r from-blue-50 to-green-50 p-6 rounded-xl mb-6">
                    <div class="grid md:grid-cols-2 gap-6">
                        <div>
                            <h4 class="font-semibold text-gray-800 mb-4">Transfer ke Rekening:</h4>
                            <div class="space-y-3">
                                <div class="flex items-center space-x-3 p-3 bg-white rounded-lg">
                                    <div class="w-10 h-10 bg-blue-600 rounded flex items-center justify-center">
                                        <span class="text-white font-bold text-sm">BCA</span>
                                    </div>
                                    <div>
                                        <p class="font-semibold">Bank BCA</p>
                                        <p class="text-sm text-gray-600">1234567890</p>
                                        <p class="text-sm text-gray-600">a.n. RS Sehat Sejahtera</p>
                                    </div>
                                </div>
                                <div class="flex items-center space-x-3 p-3 bg-white rounded-lg">
                                    <div class="w-10 h-10 bg-red-600 rounded flex items-center justify-center">
                                        <span class="text-white font-bold text-sm">BNI</span>
                                    </div>
                                    <div>
                                        <p class="font-semibold">Bank BNI</p>
                                        <p class="text-sm text-gray-600">0987654321</p>
                                        <p class="text-sm text-gray-600">a.n. RS Sehat Sejahtera</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <div>
                            <h4 class="font-semibold text-gray-800 mb-4">Detail Pembayaran:</h4>
                            <div class="bg-white p-4 rounded-lg">
                                <div class="space-y-2 text-sm">
                                    <div class="flex justify-between">
                                        <span>Biaya Konsultasi:</span>
                                        <span id="consultation-fee"></span>
                                    </div>
                                    <div class="flex justify-between">
                                        <span>Biaya Admin:</span>
                                        <span>Rp 5.000</span>
                                    </div>
                                    <hr class="my-2">
                                    <div class="flex justify-between font-bold text-lg">
                                        <span>Total:</span>
                                        <span id="total-payment" class="text-green-600"></span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Upload Payment Proof -->
                <div class="bg-yellow-50 border border-yellow-200 p-6 rounded-xl">
                    <h4 class="font-semibold text-yellow-800 mb-4 flex items-center">
                        <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 24 24">
                            <path d="M14 2H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 2 2h8c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm-5 2h2v3l1-1 1 1V4h2v5l-2-2-2 2V4z"/>
                        </svg>
                        Upload Bukti Pembayaran
                    </h4>
                    <p class="text-yellow-700 text-sm mb-4">Setelah melakukan transfer, upload bukti pembayaran untuk konfirmasi.</p>
                    
                    <!-- Image Preview Area -->
                    <div id="image-preview-area" class="hidden mb-4">
                        <div class="bg-white border border-yellow-300 rounded-lg p-4">
                            <h5 class="font-semibold text-gray-800 mb-2">Preview Gambar:</h5>
                            <div class="flex items-start space-x-4">
                                <img id="preview-image" src="" alt="Preview" class="w-32 h-32 object-cover rounded-lg border border-gray-300">
                                <div class="flex-1">
                                    <p id="preview-filename" class="text-sm font-semibold text-gray-700 mb-1"></p>
                                    <p id="preview-filesize" class="text-xs text-gray-500 mb-2"></p>
                                    <button onclick="clearImagePreview()" class="text-red-600 hover:text-red-800 text-sm flex items-center">
                                        <svg class="w-4 h-4 mr-1" fill="currentColor" viewBox="0 0 24 24">
                                            <path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/>
                                        </svg>
                                        Hapus
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="flex flex-col sm:flex-row gap-4">
                        <input type="file" id="payment-proof" accept="image/*" onchange="previewPaymentImage(this)" class="flex-1 px-4 py-3 border border-yellow-300 rounded-lg focus:ring-2 focus:ring-yellow-500">
                        <button onclick="uploadPaymentProof()" class="bg-yellow-600 text-white px-6 py-3 rounded-lg hover:bg-yellow-700 font-semibold">
                            Upload Bukti
                        </button>
                    </div>
                    
                    <div class="mt-3 text-xs text-yellow-600">
                        <p>‚Ä¢ Format yang didukung: JPG, PNG, GIF</p>
                        <p>‚Ä¢ Ukuran maksimal: 5MB</p>
                        <p>‚Ä¢ Pastikan gambar jelas dan mudah dibaca</p>
                    </div>
                </div>
            </div>

            <!-- Instructions -->
            <div class="bg-white rounded-2xl shadow-lg p-8">
                <h3 class="text-2xl font-bold text-gray-800 mb-6">Petunjuk Selanjutnya</h3>
                
                <div id="patient-instructions" class="space-y-4">
                    <!-- Instructions will be populated based on status -->
                </div>
                
                <div class="mt-8 p-6 bg-blue-50 rounded-xl">
                    <h4 class="font-semibold text-blue-800 mb-3">Informasi Penting:</h4>
                    <ul class="text-blue-700 text-sm space-y-2">
                        <li>‚Ä¢ Datang 15 menit sebelum jadwal konsultasi</li>
                        <li>‚Ä¢ Bawa KTP dan kartu BPJS (jika ada)</li>
                        <li>‚Ä¢ Siapkan daftar keluhan dan obat yang sedang dikonsumsi</li>
                        <li>‚Ä¢ Hubungi (021) 123-4567 jika ada perubahan jadwal</li>
                    </ul>
                </div>
            </div>
        </div>
    </div>

    <!-- Admin Dashboard -->
    <div id="admin-dashboard" class="hidden">
        <!-- Admin Header -->
        <div class="bg-gradient-to-r from-blue-600 to-green-600 text-white p-6">
            <div class="container mx-auto flex justify-between items-center">
                <div>
                    <h2 class="text-3xl font-bold">Dashboard Administrator</h2>
                    <p class="opacity-90">Kelola pendaftaran dan pembayaran pasien</p>
                </div>
                <div class="flex items-center space-x-4">
                    <div class="text-right">
                        <p class="font-semibold">Admin</p>
                        <p class="text-sm opacity-75" id="current-time"></p>
                    </div>
                    <button onclick="logout()" class="bg-white bg-opacity-20 px-4 py-2 rounded-lg hover:bg-opacity-30">
                        Logout
                    </button>
                </div>
            </div>
        </div>

        <!-- Dashboard Stats -->
        <div class="container mx-auto px-4 py-8">
            <div class="grid md:grid-cols-4 gap-6 mb-8">
                <div class="bg-white p-6 rounded-2xl shadow-lg border-l-4 border-blue-500">
                    <div class="flex items-center justify-between">
                        <div>
                            <p class="text-gray-600 text-sm">Total Pendaftaran</p>
                            <p class="text-3xl font-bold text-blue-600" id="total-registrations">0</p>
                        </div>
                        <div class="w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center">
                            <svg class="w-6 h-6 text-blue-600" fill="currentColor" viewBox="0 0 24 24">
                                <path d="M16 4c0-1.11.89-2 2-2s2 .89 2 2-.89 2-2 2-2-.89-2-2zM4 18v-4h3v4h2v-7.5c0-.83.67-1.5 1.5-1.5S12 9.67 12 10.5V18h2v-4h3v4h2V8.5c0-1.1-.9-2-2-2H7c-1.1 0-2 .9-2 2V18H4z"/>
                            </svg>
                        </div>
                    </div>
                </div>
                
                <div class="bg-white p-6 rounded-2xl shadow-lg border-l-4 border-yellow-500">
                    <div class="flex items-center justify-between">
                        <div>
                            <p class="text-gray-600 text-sm">Menunggu Konfirmasi</p>
                            <p class="text-3xl font-bold text-yellow-600" id="pending-confirmations">0</p>
                        </div>
                        <div class="w-12 h-12 bg-yellow-100 rounded-full flex items-center justify-center">
                            <svg class="w-6 h-6 text-yellow-600" fill="currentColor" viewBox="0 0 24 24">
                                <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"/>
                            </svg>
                        </div>
                    </div>
                </div>
                
                <div class="bg-white p-6 rounded-2xl shadow-lg border-l-4 border-green-500">
                    <div class="flex items-center justify-between">
                        <div>
                            <p class="text-gray-600 text-sm">Pembayaran Lunas</p>
                            <p class="text-3xl font-bold text-green-600" id="paid-appointments">0</p>
                        </div>
                        <div class="w-12 h-12 bg-green-100 rounded-full flex items-center justify-center">
                            <svg class="w-6 h-6 text-green-600" fill="currentColor" viewBox="0 0 24 24">
                                <path d="M11.8 10.9c-2.27-.59-3-1.2-3-2.15 0-1.09 1.01-1.85 2.7-1.85 1.78 0 2.44.85 2.5 2.1h2.21c-.07-1.72-1.12-3.3-3.21-3.81V3h-3v2.16c-1.94.42-3.5 1.68-3.5 3.61 0 2.31 1.91 3.46 4.7 4.13 2.5.6 3 1.48 3 2.41 0 .69-.49 1.79-2.7 1.79-2.06 0-2.87-.92-2.98-2.1h-2.2c.12 2.19 1.76 3.42 3.68 3.83V21h3v-2.15c1.95-.37 3.5-1.5 3.5-3.55 0-2.84-2.43-3.81-4.7-4.4z"/>
                            </svg>
                        </div>
                    </div>
                </div>
                
                <div class="bg-white p-6 rounded-2xl shadow-lg border-l-4 border-purple-500">
                    <div class="flex items-center justify-between">
                        <div>
                            <p class="text-gray-600 text-sm">Hari Ini</p>
                            <p class="text-3xl font-bold text-purple-600" id="today-appointments">0</p>
                        </div>
                        <div class="w-12 h-12 bg-purple-100 rounded-full flex items-center justify-center">
                            <svg class="w-6 h-6 text-purple-600" fill="currentColor" viewBox="0 0 24 24">
                                <path d="M19 3h-1V1h-2v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V8h14v11zM7 10h5v5H7z"/>
                            </svg>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Admin Navigation Tabs -->
            <div class="bg-white rounded-2xl shadow-lg mb-8">
                <div class="border-b border-gray-200">
                    <nav class="flex space-x-8 px-6">
                        <button onclick="showAdminTab('appointments')" id="appointments-tab" class="admin-tab active py-4 px-2 border-b-2 border-blue-600 text-blue-600 font-semibold">
                            üìã Pendaftaran Pasien
                        </button>
                        <button onclick="showAdminTab('doctors')" id="doctors-tab" class="admin-tab py-4 px-2 border-b-2 border-transparent text-gray-500 hover:text-gray-700 font-semibold">
                            üë®‚Äç‚öïÔ∏è Kelola Dokter
                        </button>
                    </nav>
                </div>
            </div>

            <!-- Appointments Tab -->
            <div id="appointments-content" class="admin-tab-content">
                <!-- Appointments Table -->
                <div class="bg-white rounded-2xl shadow-lg overflow-hidden">
                    <div class="p-6 border-b border-gray-200">
                        <div class="flex justify-between items-center">
                            <h3 class="text-2xl font-bold text-gray-800">Daftar Pendaftaran Pasien</h3>
                            <div class="flex space-x-3">
                                <select id="status-filter" class="px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500">
                                    <option value="">Semua Status</option>
                                    <option value="pending">Menunggu Konfirmasi</option>
                                    <option value="confirmed">Dikonfirmasi</option>
                                    <option value="paid">Lunas</option>
                                    <option value="cancelled">Dibatalkan</option>
                                </select>
                                <button onclick="refreshAppointments()" class="bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700">
                                    Refresh
                                </button>
                            </div>
                        </div>
                    </div>
                
                <div class="overflow-x-auto">
                    <table class="w-full">
                        <thead class="bg-gray-50">
                            <tr>
                                <th class="px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">ID</th>
                                <th class="px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Pasien</th>
                                <th class="px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Dokter</th>
                                <th class="px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Tanggal</th>
                                <th class="px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Status</th>
                                <th class="px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Biaya</th>
                                <th class="px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Bukti Bayar</th>
                                <th class="px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Aksi</th>
                            </tr>
                        </thead>
                        <tbody id="appointments-table" class="bg-white divide-y divide-gray-200">
                            <!-- Data will be populated by JavaScript -->
                        </tbody>
                    </table>
                </div>
            </div>
            </div>

            <!-- Doctors Management Tab -->
            <div id="doctors-content" class="admin-tab-content hidden">
                <div class="grid lg:grid-cols-3 gap-8">
                    <!-- Add Doctor Form -->
                    <div class="lg:col-span-1">
                        <div class="bg-white rounded-2xl shadow-lg p-6">
                            <h3 class="text-2xl font-bold text-gray-800 mb-6 flex items-center">
                                <svg class="w-6 h-6 mr-2 text-blue-600" fill="currentColor" viewBox="0 0 24 24">
                                    <path d="M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"/>
                                </svg>
                                Tambah Dokter Baru
                            </h3>
                            
                            <form id="add-doctor-form" class="space-y-4">
                                <div>
                                    <label class="block text-gray-700 font-semibold mb-2">Nama Lengkap *</label>
                                    <input type="text" id="doctor-name" required class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent" placeholder="Dr. Nama Dokter, Sp.XX">
                                </div>
                                
                                <div>
                                    <label class="block text-gray-700 font-semibold mb-2">Spesialisasi *</label>
                                    <input type="text" id="doctor-specialty" required class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent" placeholder="Spesialis Penyakit Dalam">
                                </div>
                                
                                <div>
                                    <label class="block text-gray-700 font-semibold mb-2">Biaya Konsultasi (Rp) *</label>
                                    <input type="number" id="doctor-fee" required min="50000" max="2000000" step="5000" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent" placeholder="250000">
                                </div>
                                
                                <div>
                                    <label class="block text-gray-700 font-semibold mb-2">Pengalaman (Tahun)</label>
                                    <input type="number" id="doctor-experience" min="1" max="50" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent" placeholder="10">
                                </div>
                                
                                <div>
                                    <label class="block text-gray-700 font-semibold mb-2">Deskripsi Keahlian</label>
                                    <textarea id="doctor-description" rows="3" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent" placeholder="Ahli dalam menangani diabetes, hipertensi, dan gangguan metabolik..."></textarea>
                                </div>
                                
                                <div>
                                    <label class="block text-gray-700 font-semibold mb-2">Keahlian Khusus (pisahkan dengan koma)</label>
                                    <input type="text" id="doctor-skills" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent" placeholder="Diabetes, Hipertensi, Jantung">
                                </div>
                                
                                <div>
                                    <label class="block text-gray-700 font-semibold mb-2">Warna Avatar</label>
                                    <select id="doctor-color" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent">
                                        <option value="blue">Biru</option>
                                        <option value="green">Hijau</option>
                                        <option value="purple">Ungu</option>
                                        <option value="pink">Pink</option>
                                        <option value="indigo">Indigo</option>
                                        <option value="red">Merah</option>
                                        <option value="yellow">Kuning</option>
                                        <option value="teal">Teal</option>
                                    </select>
                                </div>
                                
                                <button type="submit" class="w-full bg-blue-600 text-white py-3 rounded-lg font-semibold hover:bg-blue-700 transition-all">
                                    ‚ûï Tambah Dokter
                                </button>
                            </form>
                        </div>
                    </div>
                    
                    <!-- Doctors List -->
                    <div class="lg:col-span-2">
                        <div class="bg-white rounded-2xl shadow-lg">
                            <div class="p-6 border-b border-gray-200">
                                <div class="flex justify-between items-center">
                                    <h3 class="text-2xl font-bold text-gray-800">Daftar Dokter</h3>
                                    <div class="text-sm text-gray-600">
                                        Total: <span id="total-doctors" class="font-semibold text-blue-600">0</span> dokter
                                    </div>
                                </div>
                            </div>
                            
                            <div id="doctors-list" class="p-6">
                                <!-- Doctors will be populated by JavaScript -->
                            </div>
                            
                            <!-- No Doctors Message -->
                            <div id="no-doctors-admin" class="hidden p-12 text-center">
                                <svg class="w-20 h-20 text-gray-300 mx-auto mb-4" fill="currentColor" viewBox="0 0 24 24">
                                    <path d="M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"/>
                                </svg>
                                <h4 class="text-xl font-bold text-gray-600 mb-2">Belum Ada Dokter</h4>
                                <p class="text-gray-500">Tambahkan dokter pertama menggunakan form di sebelah kiri.</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Patient Status Modal -->
    <div id="status-modal" class="hidden fixed inset-0 z-50 modal-overlay flex items-center justify-center p-4">
        <div class="bg-white rounded-2xl shadow-2xl max-w-2xl w-full p-8">
            <div class="text-center mb-6">
                <h3 class="text-2xl font-bold text-gray-800">Status Pendaftaran Anda</h3>
                <p class="text-gray-600">Informasi terkini tentang janji temu Anda</p>
            </div>
            
            <div id="patient-status-content" class="space-y-6">
                <!-- Content will be populated by JavaScript -->
            </div>
            
            <div class="text-center mt-8">
                <button onclick="hideStatusModal()" class="bg-gray-300 text-gray-700 px-6 py-3 rounded-lg font-semibold hover:bg-gray-400">
                    Tutup
                </button>
            </div>
        </div>
    </div>

    <!-- Patient Detail Modal -->
    <div id="patient-detail-modal" class="hidden fixed inset-0 z-50 modal-overlay flex items-center justify-center p-4">
        <div class="bg-white rounded-2xl shadow-2xl max-w-4xl w-full max-h-[90vh] overflow-y-auto">
            <div class="sticky top-0 bg-white border-b border-gray-200 p-6 rounded-t-2xl">
                <div class="flex justify-between items-center">
                    <div>
                        <h3 class="text-2xl font-bold text-gray-800">Detail Pasien</h3>
                        <p class="text-gray-600">Informasi lengkap data pasien dan janji temu</p>
                    </div>
                    <button onclick="hidePatientDetailModal()" class="text-gray-400 hover:text-gray-600">
                        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
                        </svg>
                    </button>
                </div>
            </div>
            
            <div id="patient-detail-content" class="p-6">
                <!-- Content will be populated by JavaScript -->
            </div>
        </div>
    </div>

    <!-- Payment Proof Modal -->
    <div id="payment-proof-modal" class="hidden fixed inset-0 z-50 modal-overlay flex items-center justify-center p-4">
        <div class="bg-white rounded-2xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto">
            <div class="sticky top-0 bg-white border-b border-gray-200 p-6 rounded-t-2xl">
                <div class="flex justify-between items-center">
                    <div>
                        <h3 class="text-2xl font-bold text-gray-800">Bukti Pembayaran</h3>
                        <p class="text-gray-600" id="payment-proof-patient-info">Bukti transfer dari pasien</p>
                    </div>
                    <button onclick="hidePaymentProofModal()" class="text-gray-400 hover:text-gray-600">
                        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
                        </svg>
                    </button>
                </div>
            </div>
            
            <div class="p-6">
                <div id="payment-proof-content" class="text-center">
                    <!-- Payment proof image will be displayed here -->
                </div>
                
                <div class="mt-6 flex justify-center space-x-3">
                    <button onclick="hidePaymentProofModal()" class="bg-gray-300 text-gray-700 px-6 py-3 rounded-lg font-semibold hover:bg-gray-400">
                        Tutup
                    </button>
                    <button onclick="approvePaymentFromProof()" class="bg-green-600 text-white px-6 py-3 rounded-lg font-semibold hover:bg-green-700">
                        Setujui Pembayaran
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Payment Modal -->
    <div id="payment-modal" class="hidden fixed inset-0 z-50 modal-overlay flex items-center justify-center p-4">
        <div class="bg-white rounded-2xl shadow-2xl max-w-md w-full p-8">
            <div class="text-center mb-6">
                <div class="w-16 h-16 bg-green-500 rounded-full flex items-center justify-center mx-auto mb-4">
                    <svg class="w-8 h-8 text-white" fill="currentColor" viewBox="0 0 24 24">
                        <path d="M11.8 10.9c-2.27-.59-3-1.2-3-2.15 0-1.09 1.01-1.85 2.7-1.85 1.78 0 2.44.85 2.5 2.1h2.21c-.07-1.72-1.12-3.3-3.21-3.81V3h-3v2.16c-1.94.42-3.5 1.68-3.5 3.61 0 2.31 1.91 3.46 4.7 4.13 2.5.6 3 1.48 3 2.41 0 .69-.49 1.79-2.7 1.79-2.06 0-2.87-.92-2.98-2.1h-2.2c.12 2.19 1.76 3.42 3.68 3.83V21h3v-2.15c1.95-.37 3.5-1.5 3.5-3.55 0-2.84-2.43-3.81-4.7-4.4z"/>
                    </svg>
                </div>
                <h3 class="text-2xl font-bold text-gray-800">Pembayaran</h3>
                <p class="text-gray-600">Konfirmasi pembayaran pasien</p>
            </div>
            
            <div id="payment-details" class="space-y-4 mb-6">
                <!-- Payment details will be populated by JavaScript -->
            </div>
            
            <div class="flex space-x-3">
                <button onclick="hidePaymentModal()" class="flex-1 bg-gray-300 text-gray-700 py-3 rounded-lg font-semibold hover:bg-gray-400">
                    Batal
                </button>
                <button onclick="confirmPayment()" class="flex-1 bg-green-600 text-white py-3 rounded-lg font-semibold hover:bg-green-700">
                    Konfirmasi Lunas
                </button>
            </div>
        </div>
    </div>

    <!-- Notification Container -->
    <div id="notification-container" class="fixed top-4 right-4 z-50 space-y-2">
        <!-- Notifications will be added here -->
    </div>

    <!-- Main Website Content (Hidden when admin dashboard is shown) -->
    <div id="main-content">
        <!-- Hero Section -->
        <section id="beranda" class="gradient-animation min-h-screen flex items-center relative overflow-hidden">
            <!-- Floating Elements -->
            <div class="absolute inset-0 overflow-hidden">
                <div class="absolute top-20 left-10 w-20 h-20 bg-white bg-opacity-10 rounded-full floating-animation"></div>
                <div class="absolute top-40 right-20 w-16 h-16 bg-green-300 bg-opacity-20 rounded-full floating-animation delay-200"></div>
                <div class="absolute bottom-40 left-20 w-24 h-24 bg-blue-300 bg-opacity-15 rounded-full floating-animation delay-400"></div>
                <div class="absolute bottom-20 right-10 w-12 h-12 bg-white bg-opacity-10 rounded-full floating-animation delay-600"></div>
            </div>
            
            <div class="container mx-auto px-4 py-20 relative z-10">
                <div class="max-w-4xl mx-auto text-center text-white">
                    <h2 class="text-5xl md:text-6xl font-bold mb-6 slide-in-left">
                        Kesehatan Anda, <span class="text-green-300">Prioritas Kami</span>
                    </h2>
                    <p class="text-xl md:text-2xl mb-8 slide-in-right delay-300 opacity-90">
                        Melayani dengan sepenuh hati, memberikan perawatan terbaik untuk keluarga Indonesia
                    </p>
                    <div class="flex flex-col sm:flex-row gap-4 justify-center scale-in delay-500">
                        <button onclick="scrollToSection('kontak')" class="btn-primary btn-loading text-white px-8 py-4 rounded-full font-semibold text-lg shadow-lg hover-lift hover-glow">
                            Buat Janji Temu
                        </button>
                        <button onclick="scrollToSection('layanan')" class="bg-white text-blue-600 px-8 py-4 rounded-full font-semibold text-lg shadow-lg hover-lift transition-all">
                            Lihat Layanan
                        </button>
                    </div>
                    
                    <!-- Stats Section -->
                    <div class="grid grid-cols-2 md:grid-cols-4 gap-6 mt-16 bounce-in delay-600">
                        <div class="text-center">
                            <div class="text-3xl md:text-4xl font-bold text-green-300 mb-2">15+</div>
                            <div class="text-sm md:text-base opacity-90">Tahun Pengalaman</div>
                        </div>
                        <div class="text-center">
                            <div class="text-3xl md:text-4xl font-bold text-green-300 mb-2">50+</div>
                            <div class="text-sm md:text-base opacity-90">Dokter Spesialis</div>
                        </div>
                        <div class="text-center">
                            <div class="text-3xl md:text-4xl font-bold text-green-300 mb-2">24/7</div>
                            <div class="text-sm md:text-base opacity-90">Layanan IGD</div>
                        </div>
                        <div class="text-center">
                            <div class="text-3xl md:text-4xl font-bold text-green-300 mb-2">10K+</div>
                            <div class="text-sm md:text-base opacity-90">Pasien Puas</div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Alur Pendaftaran Section -->
        <section id="alur" class="py-20 bg-gradient-to-br from-blue-50 to-green-50">
            <div class="container mx-auto px-4">
                <div class="text-center mb-16">
                    <h3 class="text-4xl font-bold text-gray-800 mb-4">Alur Pelayanan Pasien</h3>
                    <p class="text-xl text-gray-600 max-w-2xl mx-auto">
                        Proses mudah dan cepat dari pendaftaran hingga pembayaran untuk kenyamanan Anda
                    </p>
                </div>
                
                <div class="max-w-6xl mx-auto">
                    <!-- Timeline -->
                    <div class="relative">
                        <!-- Timeline Line -->
                        <div class="absolute left-1/2 transform -translate-x-1/2 w-1 h-full bg-gradient-to-b from-blue-500 to-green-500 hidden lg:block"></div>
                        
                        <!-- Step 1: Pendaftaran -->
                        <div class="flex flex-col lg:flex-row items-center mb-12 fade-in delay-100">
                            <div class="lg:w-1/2 lg:pr-12 mb-8 lg:mb-0">
                                <div class="bg-white p-8 rounded-2xl shadow-lg hover-lift">
                                    <div class="flex items-center mb-4">
                                        <div class="w-12 h-12 bg-blue-500 rounded-full flex items-center justify-center text-white font-bold text-xl mr-4">1</div>
                                        <h4 class="text-2xl font-bold text-gray-800">Pendaftaran</h4>
                                    </div>
                                    <p class="text-gray-600 mb-4">Daftar sebagai pasien baru atau lama di loket pendaftaran atau online</p>
                                    <ul class="text-sm text-gray-600 space-y-2">
                                        <li>‚úì Bawa KTP/Identitas</li>
                                        <li>‚úì Isi formulir pendaftaran</li>
                                        <li>‚úì Pilih dokter & jadwal</li>
                                        <li>‚úì Dapatkan nomor antrian</li>
                                    </ul>
                                </div>
                            </div>
                            <div class="lg:w-1/2 lg:pl-12">
                                <div class="w-20 h-20 bg-blue-500 rounded-full flex items-center justify-center mx-auto floating-animation">
                                    <svg class="w-10 h-10 text-white" fill="currentColor" viewBox="0 0 24 24">
                                        <path d="M14 2H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 2 2h8c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm-5 2h2v3l1-1 1 1V4h2v5l-2-2-2 2V4z"/>
                                    </svg>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Step 2: Pemeriksaan Awal -->
                        <div class="flex flex-col lg:flex-row-reverse items-center mb-12 fade-in delay-200">
                            <div class="lg:w-1/2 lg:pl-12 mb-8 lg:mb-0">
                                <div class="bg-white p-8 rounded-2xl shadow-lg hover-lift">
                                    <div class="flex items-center mb-4">
                                        <div class="w-12 h-12 bg-green-500 rounded-full flex items-center justify-center text-white font-bold text-xl mr-4">2</div>
                                        <h4 class="text-2xl font-bold text-gray-800">Pemeriksaan Awal</h4>
                                    </div>
                                    <p class="text-gray-600 mb-4">Perawat akan melakukan pemeriksaan vital sign dan anamnesa awal</p>
                                    <ul class="text-sm text-gray-600 space-y-2">
                                        <li>‚úì Cek tekanan darah</li>
                                        <li>‚úì Ukur suhu tubuh</li>
                                        <li>‚úì Timbang berat badan</li>
                                        <li>‚úì Catat keluhan utama</li>
                                    </ul>
                                </div>
                            </div>
                            <div class="lg:w-1/2 lg:pr-12">
                                <div class="w-20 h-20 bg-green-500 rounded-full flex items-center justify-center mx-auto floating-animation delay-100">
                                    <svg class="w-10 h-10 text-white" fill="currentColor" viewBox="0 0 24 24">
                                        <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"/>
                                    </svg>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Step 3: Konsultasi Dokter -->
                        <div class="flex flex-col lg:flex-row items-center mb-12 fade-in delay-300">
                            <div class="lg:w-1/2 lg:pr-12 mb-8 lg:mb-0">
                                <div class="bg-white p-8 rounded-2xl shadow-lg hover-lift">
                                    <div class="flex items-center mb-4">
                                        <div class="w-12 h-12 bg-purple-500 rounded-full flex items-center justify-center text-white font-bold text-xl mr-4">3</div>
                                        <h4 class="text-2xl font-bold text-gray-800">Konsultasi Dokter</h4>
                                    </div>
                                    <p class="text-gray-600 mb-4">Konsultasi lengkap dengan dokter spesialis sesuai keluhan Anda</p>
                                    <ul class="text-sm text-gray-600 space-y-2">
                                        <li>‚úì Pemeriksaan fisik</li>
                                        <li>‚úì Diagnosis penyakit</li>
                                        <li>‚úì Penjelasan kondisi</li>
                                        <li>‚úì Rencana pengobatan</li>
                                    </ul>
                                </div>
                            </div>
                            <div class="lg:w-1/2 lg:pl-12">
                                <div class="w-20 h-20 bg-purple-500 rounded-full flex items-center justify-center mx-auto floating-animation delay-200">
                                    <svg class="w-10 h-10 text-white" fill="currentColor" viewBox="0 0 24 24">
                                        <path d="M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"/>
                                    </svg>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Step 4: Pemeriksaan Penunjang -->
                        <div class="flex flex-col lg:flex-row-reverse items-center mb-12 fade-in delay-400">
                            <div class="lg:w-1/2 lg:pl-12 mb-8 lg:mb-0">
                                <div class="bg-white p-8 rounded-2xl shadow-lg hover-lift">
                                    <div class="flex items-center mb-4">
                                        <div class="w-12 h-12 bg-orange-500 rounded-full flex items-center justify-center text-white font-bold text-xl mr-4">4</div>
                                        <h4 class="text-2xl font-bold text-gray-800">Pemeriksaan Penunjang</h4>
                                    </div>
                                    <p class="text-gray-600 mb-4">Jika diperlukan, lakukan pemeriksaan lab, radiologi, atau penunjang lainnya</p>
                                    <ul class="text-sm text-gray-600 space-y-2">
                                        <li>‚úì Tes laboratorium</li>
                                        <li>‚úì Foto rontgen</li>
                                        <li>‚úì USG/CT Scan</li>
                                        <li>‚úì EKG/Echo</li>
                                    </ul>
                                </div>
                            </div>
                            <div class="lg:w-1/2 lg:pr-12">
                                <div class="w-20 h-20 bg-orange-500 rounded-full flex items-center justify-center mx-auto floating-animation delay-300">
                                    <svg class="w-10 h-10 text-white" fill="currentColor" viewBox="0 0 24 24">
                                        <path d="M9 2v6l-2 2v10c0 1.1.9 2 2 2h6c1.1 0 2-.9 2-2V10l-2-2V2H9zm2 2h2v4.17l2 2V20H9v-9.83l2-2V4z"/>
                                    </svg>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Step 5: Pengambilan Obat -->
                        <div class="flex flex-col lg:flex-row items-center mb-12 fade-in delay-500">
                            <div class="lg:w-1/2 lg:pr-12 mb-8 lg:mb-0">
                                <div class="bg-white p-8 rounded-2xl shadow-lg hover-lift">
                                    <div class="flex items-center mb-4">
                                        <div class="w-12 h-12 bg-teal-500 rounded-full flex items-center justify-center text-white font-bold text-xl mr-4">5</div>
                                        <h4 class="text-2xl font-bold text-gray-800">Pengambilan Obat</h4>
                                    </div>
                                    <p class="text-gray-600 mb-4">Ambil obat di apotek rumah sakit dengan resep dari dokter</p>
                                    <ul class="text-sm text-gray-600 space-y-2">
                                        <li>‚úì Serahkan resep dokter</li>
                                        <li>‚úì Konsultasi apoteker</li>
                                        <li>‚úì Penjelasan cara minum</li>
                                        <li>‚úì Efek samping obat</li>
                                    </ul>
                                </div>
                            </div>
                            <div class="lg:w-1/2 lg:pl-12">
                                <div class="w-20 h-20 bg-teal-500 rounded-full flex items-center justify-center mx-auto floating-animation delay-400">
                                    <svg class="w-10 h-10 text-white" fill="currentColor" viewBox="0 0 24 24">
                                        <path d="M4 6H2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V6h-2V4c0-1.1-.9-2-2-2H6c-1.1 0-2 .9-2 2v2zm2-2h10v2H6V4zm5 11V9h2v6h3l-4 4-4-4h3z"/>
                                    </svg>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Step 6: Pembayaran -->
                        <div class="flex flex-col lg:flex-row-reverse items-center fade-in delay-600">
                            <div class="lg:w-1/2 lg:pl-12 mb-8 lg:mb-0">
                                <div class="bg-white p-8 rounded-2xl shadow-lg hover-lift border-2 border-green-200">
                                    <div class="flex items-center mb-4">
                                        <div class="w-12 h-12 bg-green-600 rounded-full flex items-center justify-center text-white font-bold text-xl mr-4">6</div>
                                        <h4 class="text-2xl font-bold text-gray-800">Pembayaran</h4>
                                    </div>
                                    <p class="text-gray-600 mb-4">Lakukan pembayaran di kasir dengan berbagai metode pembayaran</p>
                                    <ul class="text-sm text-gray-600 space-y-2">
                                        <li>‚úì Tunai/Cash</li>
                                        <li>‚úì Kartu Debit/Credit</li>
                                        <li>‚úì BPJS Kesehatan</li>
                                        <li>‚úì Asuransi Swasta</li>
                                    </ul>
                                    <div class="mt-6 p-4 bg-green-50 rounded-lg">
                                        <p class="text-sm text-green-700 font-semibold">üí° Tip: Siapkan kartu BPJS atau asuransi untuk kemudahan pembayaran</p>
                                    </div>
                                </div>
                            </div>
                            <div class="lg:w-1/2 lg:pr-12">
                                <div class="w-20 h-20 bg-green-600 rounded-full flex items-center justify-center mx-auto floating-animation delay-500">
                                    <svg class="w-10 h-10 text-white" fill="currentColor" viewBox="0 0 24 24">
                                        <path d="M11.8 10.9c-2.27-.59-3-1.2-3-2.15 0-1.09 1.01-1.85 2.7-1.85 1.78 0 2.44.85 2.5 2.1h2.21c-.07-1.72-1.12-3.3-3.21-3.81V3h-3v2.16c-1.94.42-3.5 1.68-3.5 3.61 0 2.31 1.91 3.46 4.7 4.13 2.5.6 3 1.48 3 2.41 0 .69-.49 1.79-2.7 1.79-2.06 0-2.87-.92-2.98-2.1h-2.2c.12 2.19 1.76 3.42 3.68 3.83V21h3v-2.15c1.95-.37 3.5-1.5 3.5-3.55 0-2.84-2.43-3.81-4.7-4.4z"/>
                                    </svg>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Call to Action -->
                    <div class="text-center mt-16 bounce-in delay-600">
                        <div class="bg-white p-8 rounded-2xl shadow-lg max-w-2xl mx-auto">
                            <h4 class="text-2xl font-bold text-gray-800 mb-4">Siap Memulai Perawatan?</h4>
                            <p class="text-gray-600 mb-6">Daftar sekarang dan rasakan pelayanan kesehatan terbaik dari kami</p>
                            <button onclick="scrollToSection('kontak')" class="btn-primary text-white px-8 py-4 rounded-full font-semibold text-lg shadow-lg hover-lift">
                                Daftar Sekarang
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Layanan Section -->
        <section id="layanan" class="py-20 bg-white">
            <div class="container mx-auto px-4">
                <div class="text-center mb-16">
                    <h3 class="text-4xl font-bold text-gray-800 mb-4">Layanan Unggulan Kami</h3>
                    <p class="text-xl text-gray-600 max-w-2xl mx-auto">
                        Kami menyediakan berbagai layanan kesehatan komprehensif dengan standar internasional
                    </p>
                </div>
                
                <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-8">
                    <!-- Poliklinik -->
                    <div class="service-card bg-gradient-to-br from-blue-50 to-green-50 p-8 rounded-2xl shadow-lg border border-blue-100 hover-lift hover-glow fade-in delay-100">
                        <div class="w-16 h-16 bg-blue-500 rounded-full flex items-center justify-center mb-6 floating-animation">
                            <svg class="w-8 h-8 text-white" fill="currentColor" viewBox="0 0 24 24">
                                <path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-5 14H7v-2h7v2zm3-4H7v-2h10v2zm0-4H7V7h10v2z"/>
                            </svg>
                        </div>
                        <h4 class="text-2xl font-bold text-gray-800 mb-4">Poliklinik</h4>
                        <p class="text-gray-600 mb-6">Konsultasi dengan dokter spesialis berpengalaman untuk berbagai keluhan kesehatan Anda.</p>
                        <ul class="text-sm text-gray-600 space-y-2">
                            <li>‚úì Poli Umum</li>
                            <li>‚úì Poli Anak</li>
                            <li>‚úì Poli Kandungan</li>
                            <li>‚úì Poli Jantung</li>
                        </ul>
                    </div>
                    
                    <!-- IGD 24 Jam -->
                    <div class="service-card bg-gradient-to-br from-red-50 to-orange-50 p-8 rounded-2xl shadow-lg border border-red-100 hover-lift hover-glow fade-in delay-200">
                        <div class="w-16 h-16 bg-red-500 rounded-full flex items-center justify-center mb-6 floating-animation pulse">
                            <svg class="w-8 h-8 text-white" fill="currentColor" viewBox="0 0 24 24">
                                <path d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"/>
                            </svg>
                        </div>
                        <h4 class="text-2xl font-bold text-gray-800 mb-4">IGD 24 Jam</h4>
                        <p class="text-gray-600 mb-6">Pelayanan gawat darurat siaga 24 jam dengan tim medis profesional dan peralatan lengkap.</p>
                        <ul class="text-sm text-gray-600 space-y-2">
                            <li>‚úì Ambulans Siaga</li>
                            <li>‚úì Tim Medis 24/7</li>
                            <li>‚úì Peralatan Canggih</li>
                            <li>‚úì Respon Cepat</li>
                        </ul>
                    </div>
                    
                    <!-- Rawat Inap -->
                    <div class="service-card bg-gradient-to-br from-green-50 to-teal-50 p-8 rounded-2xl shadow-lg border border-green-100 hover-lift hover-glow fade-in delay-300">
                        <div class="w-16 h-16 bg-green-500 rounded-full flex items-center justify-center mb-6 floating-animation">
                            <svg class="w-8 h-8 text-white" fill="currentColor" viewBox="0 0 24 24">
                                <path d="M7 13c1.66 0 3-1.34 3-3S8.66 7 7 7s-3 1.34-3 3 1.34 3 3 3zm12-6h-8v7H3V6H1v15h2v-3h18v3h2v-9c0-2.21-1.79-4-4-4z"/>
                            </svg>
                        </div>
                        <h4 class="text-2xl font-bold text-gray-800 mb-4">Rawat Inap</h4>
                        <p class="text-gray-600 mb-6">Fasilitas rawat inap yang nyaman dengan perawatan intensif dari tenaga medis berpengalaman.</p>
                        <ul class="text-sm text-gray-600 space-y-2">
                            <li>‚úì Kamar VIP & Kelas</li>
                            <li>‚úì Perawat 24 Jam</li>
                            <li>‚úì Fasilitas Lengkap</li>
                            <li>‚úì Makanan Bergizi</li>
                        </ul>
                    </div>
                    
                    <!-- Laboratorium -->
                    <div class="service-card bg-gradient-to-br from-purple-50 to-pink-50 p-8 rounded-2xl shadow-lg border border-purple-100 hover-lift hover-glow fade-in delay-400">
                        <div class="w-16 h-16 bg-purple-500 rounded-full flex items-center justify-center mb-6 floating-animation">
                            <svg class="w-8 h-8 text-white" fill="currentColor" viewBox="0 0 24 24">
                                <path d="M9 2v6l-2 2v10c0 1.1.9 2 2 2h6c1.1 0 2-.9 2-2V10l-2-2V2H9zm2 2h2v4.17l2 2V20H9v-9.83l2-2V4z"/>
                            </svg>
                        </div>
                        <h4 class="text-2xl font-bold text-gray-800 mb-4">Laboratorium</h4>
                        <p class="text-gray-600 mb-6">Pemeriksaan laboratorium lengkap dengan teknologi terkini dan hasil akurat.</p>
                        <ul class="text-sm text-gray-600 space-y-2">
                            <li>‚úì Tes Darah Lengkap</li>
                            <li>‚úì Tes Urine & Feses</li>
                            <li>‚úì Tes Kimia Darah</li>
                            <li>‚úì Hasil Cepat</li>
                        </ul>
                    </div>
                    
                    <!-- Apotek -->
                    <div class="service-card bg-gradient-to-br from-indigo-50 to-blue-50 p-8 rounded-2xl shadow-lg border border-indigo-100 hover-lift hover-glow fade-in delay-500">
                        <div class="w-16 h-16 bg-indigo-500 rounded-full flex items-center justify-center mb-6 floating-animation">
                            <svg class="w-8 h-8 text-white" fill="currentColor" viewBox="0 0 24 24">
                                <path d="M4 6H2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V6h-2V4c0-1.1-.9-2-2-2H6c-1.1 0-2 .9-2 2v2zm2-2h10v2H6V4zm5 11V9h2v6h3l-4 4-4-4h3z"/>
                            </svg>
                        </div>
                        <h4 class="text-2xl font-bold text-gray-800 mb-4">Apotek</h4>
                        <p class="text-gray-600 mb-6">Apotek lengkap dengan obat-obatan berkualitas dan konsultasi farmasi profesional.</p>
                        <ul class="text-sm text-gray-600 space-y-2">
                            <li>‚úì Obat Resep Dokter</li>
                            <li>‚úì Obat Bebas</li>
                            <li>‚úì Konsultasi Farmasi</li>
                            <li>‚úì Harga Terjangkau</li>
                        </ul>
                    </div>
                    
                    <!-- Fasilitas -->
                    <div class="service-card bg-gradient-to-br from-teal-50 to-cyan-50 p-8 rounded-2xl shadow-lg border border-teal-100 hover-lift hover-glow fade-in delay-600">
                        <div class="w-16 h-16 bg-teal-500 rounded-full flex items-center justify-center mb-6 floating-animation">
                            <svg class="w-8 h-8 text-white" fill="currentColor" viewBox="0 0 24 24">
                                <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"/>
                            </svg>
                        </div>
                        <h4 class="text-2xl font-bold text-gray-800 mb-4">Fasilitas Modern</h4>
                        <p class="text-gray-600 mb-6">Fasilitas medis terdepan dengan teknologi canggih untuk diagnosis dan perawatan optimal.</p>
                        <ul class="text-sm text-gray-600 space-y-2">
                            <li>‚úì CT Scan & MRI</li>
                            <li>‚úì USG 4D</li>
                            <li>‚úì Radiologi Digital</li>
                            <li>‚úì ICU & NICU</li>
                        </ul>
                    </div>
                </div>
            </div>
        </section>

        <!-- Dokter Section -->
        <section id="dokter" class="py-20 bg-gray-50">
            <div class="container mx-auto px-4">
                <div class="text-center mb-16">
                    <h3 class="text-4xl font-bold text-gray-800 mb-4">Tim Dokter Berpengalaman</h3>
                    <p class="text-xl text-gray-600 max-w-2xl mx-auto">
                        Dokter spesialis terbaik dengan pengalaman puluhan tahun siap melayani Anda
                    </p>
                </div>
                
                <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-8">
                    <!-- Dokter 1 -->
                    <div class="doctor-card bg-white p-8 rounded-2xl shadow-lg text-center hover-lift hover-glow scale-in delay-100">
                        <div class="w-32 h-32 mx-auto mb-6 bg-gradient-to-br from-blue-400 to-blue-600 rounded-full flex items-center justify-center floating-animation">
                            <svg class="w-16 h-16 text-white" fill="currentColor" viewBox="0 0 24 24">
                                <path d="M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"/>
                            </svg>
                        </div>
                        <h4 class="text-2xl font-bold text-gray-800 mb-2">Dr. Ahmad Santoso, Sp.PD</h4>
                        <p class="text-blue-600 font-semibold mb-4">Spesialis Penyakit Dalam</p>
                        <p class="text-gray-600 mb-6">Pengalaman 15 tahun menangani penyakit dalam, diabetes, hipertensi, dan gangguan metabolik.</p>
                        <div class="flex justify-center space-x-4">
                            <span class="bg-blue-100 text-blue-800 px-3 py-1 rounded-full text-sm hover:bg-blue-200 transition-colors">Diabetes</span>
                            <span class="bg-green-100 text-green-800 px-3 py-1 rounded-full text-sm hover:bg-green-200 transition-colors">Hipertensi</span>
                        </div>
                    </div>
                    
                    <!-- Dokter 2 -->
                    <div class="doctor-card bg-white p-8 rounded-2xl shadow-lg text-center hover-lift hover-glow scale-in delay-200">
                        <div class="w-32 h-32 mx-auto mb-6 bg-gradient-to-br from-pink-400 to-pink-600 rounded-full flex items-center justify-center floating-animation delay-100">
                            <svg class="w-16 h-16 text-white" fill="currentColor" viewBox="0 0 24 24">
                                <path d="M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"/>
                            </svg>
                        </div>
                        <h4 class="text-2xl font-bold text-gray-800 mb-2">Dr. Sari Indrawati, Sp.OG</h4>
                        <p class="text-pink-600 font-semibold mb-4">Spesialis Kandungan</p>
                        <p class="text-gray-600 mb-6">Ahli dalam kesehatan reproduksi wanita, kehamilan, persalinan, dan program bayi tabung.</p>
                        <div class="flex justify-center space-x-4">
                            <span class="bg-pink-100 text-pink-800 px-3 py-1 rounded-full text-sm hover:bg-pink-200 transition-colors">Kehamilan</span>
                            <span class="bg-purple-100 text-purple-800 px-3 py-1 rounded-full text-sm hover:bg-purple-200 transition-colors">Fertilitas</span>
                        </div>
                    </div>
                    
                    <!-- Dokter 3 -->
                    <div class="doctor-card bg-white p-8 rounded-2xl shadow-lg text-center hover-lift hover-glow scale-in delay-300">
                        <div class="w-32 h-32 mx-auto mb-6 bg-gradient-to-br from-green-400 to-green-600 rounded-full flex items-center justify-center floating-animation delay-200">
                            <svg class="w-16 h-16 text-white" fill="currentColor" viewBox="0 0 24 24">
                                <path d="M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"/>
                            </svg>
                        </div>
                        <h4 class="text-2xl font-bold text-gray-800 mb-2">Dr. Budi Hartono, Sp.A</h4>
                        <p class="text-green-600 font-semibold mb-4">Spesialis Anak</p>
                        <p class="text-gray-600 mb-6">Berpengalaman 12 tahun dalam perawatan kesehatan anak, imunisasi, dan tumbuh kembang.</p>
                        <div class="flex justify-center space-x-4">
                            <span class="bg-green-100 text-green-800 px-3 py-1 rounded-full text-sm hover:bg-green-200 transition-colors">Imunisasi</span>
                            <span class="bg-yellow-100 text-yellow-800 px-3 py-1 rounded-full text-sm hover:bg-yellow-200 transition-colors">Tumbuh Kembang</span>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Kontak Section -->
        <section id="kontak" class="py-20 bg-white">
            <div class="container mx-auto px-4">
                <div class="text-center mb-16">
                    <h3 class="text-4xl font-bold text-gray-800 mb-4">Hubungi Kami</h3>
                    <p class="text-xl text-gray-600 max-w-2xl mx-auto">
                        Buat janji temu atau konsultasi dengan mudah. Tim kami siap membantu Anda 24/7
                    </p>
                </div>
                
                <div class="grid lg:grid-cols-2 gap-12">
                    <!-- Multi-Step Form -->
                    <div class="bg-gradient-to-br from-blue-50 to-green-50 p-8 rounded-2xl shadow-lg">
                        <!-- Progress Bar -->
                        <div class="mb-8">
                            <div class="flex items-center justify-between mb-4">
                                <div class="flex items-center">
                                    <div id="step-1-indicator" class="w-8 h-8 bg-blue-600 text-white rounded-full flex items-center justify-center text-sm font-bold">1</div>
                                    <span class="ml-2 text-sm font-semibold text-blue-600">Data Pribadi</span>
                                </div>
                                <div class="flex-1 h-1 bg-gray-200 mx-4">
                                    <div id="progress-1-2" class="h-full bg-gray-200 transition-all duration-500"></div>
                                </div>
                                <div class="flex items-center">
                                    <div id="step-2-indicator" class="w-8 h-8 bg-gray-300 text-gray-600 rounded-full flex items-center justify-center text-sm font-bold">2</div>
                                    <span class="ml-2 text-sm text-gray-600">Pilih Dokter</span>
                                </div>
                                <div class="flex-1 h-1 bg-gray-200 mx-4">
                                    <div id="progress-2-3" class="h-full bg-gray-200 transition-all duration-500"></div>
                                </div>
                                <div class="flex items-center">
                                    <div id="step-3-indicator" class="w-8 h-8 bg-gray-300 text-gray-600 rounded-full flex items-center justify-center text-sm font-bold">3</div>
                                    <span class="ml-2 text-sm text-gray-600">Konfirmasi</span>
                                </div>
                            </div>
                        </div>

                        <form id="appointment-form" class="space-y-6">
                            <!-- Step 1: Data Pribadi -->
                            <div id="step-1" class="step-content">
                                <h4 class="text-2xl font-bold text-gray-800 mb-6">üìã Data Pribadi Pasien</h4>
                                
                                <div class="space-y-6">
                                    <div>
                                        <label class="block text-gray-700 font-semibold mb-2">Nama Lengkap *</label>
                                        <input type="text" id="nama" required class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent" placeholder="Masukkan nama lengkap sesuai KTP">
                                        <p class="text-xs text-gray-500 mt-1">Nama harus sesuai dengan identitas resmi</p>
                                    </div>
                                    
                                    <div class="grid md:grid-cols-2 gap-4">
                                        <div>
                                            <label class="block text-gray-700 font-semibold mb-2">No. Telepon *</label>
                                            <input type="tel" id="telepon" required class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent" placeholder="08xxxxxxxxxx">
                                            <p class="text-xs text-gray-500 mt-1">Nomor aktif untuk konfirmasi</p>
                                        </div>
                                        <div>
                                            <label class="block text-gray-700 font-semibold mb-2">Email *</label>
                                            <input type="email" id="email" required class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent" placeholder="nama@email.com">
                                            <p class="text-xs text-gray-500 mt-1">Untuk notifikasi janji temu</p>
                                        </div>
                                    </div>
                                    
                                    <div class="grid md:grid-cols-2 gap-4">
                                        <div>
                                            <label class="block text-gray-700 font-semibold mb-2">Tanggal Lahir *</label>
                                            <input type="date" id="tanggal-lahir" required class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent">
                                        </div>
                                        <div>
                                            <label class="block text-gray-700 font-semibold mb-2">Jenis Kelamin *</label>
                                            <select id="jenis-kelamin" required class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent">
                                                <option value="">Pilih Jenis Kelamin</option>
                                                <option value="Laki-laki">Laki-laki</option>
                                                <option value="Perempuan">Perempuan</option>
                                            </select>
                                        </div>
                                    </div>
                                    
                                    <div>
                                        <label class="block text-gray-700 font-semibold mb-2">Alamat Lengkap *</label>
                                        <textarea id="alamat" required rows="3" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent" placeholder="Masukkan alamat lengkap dengan RT/RW, Kelurahan, Kecamatan, Kota"></textarea>
                                    </div>
                                </div>
                                
                                <div class="flex justify-end mt-8">
                                    <button type="button" onclick="nextStep(2)" class="bg-blue-600 text-white px-8 py-3 rounded-lg font-semibold hover:bg-blue-700 transition-all">
                                        Lanjutkan ‚Üí
                                    </button>
                                </div>
                            </div>

                            <!-- Step 2: Pilih Dokter & Jadwal -->
                            <div id="step-2" class="step-content hidden">
                                <h4 class="text-2xl font-bold text-gray-800 mb-6">üë®‚Äç‚öïÔ∏è Pilih Dokter & Jadwal</h4>
                                
                                <div class="space-y-6">
                                    <div>
                                        <label class="block text-gray-700 font-semibold mb-4">Pilih Dokter Spesialis *</label>
                                        <div class="grid gap-4">
                                            <div class="doctor-option border border-gray-300 rounded-lg p-4 cursor-pointer hover:border-blue-500 hover:bg-blue-50 transition-all" onclick="selectDoctor('dr-ahmad', 'Dr. Ahmad Santoso, Sp.PD', 250000)">
                                                <div class="flex items-center justify-between">
                                                    <div class="flex items-center">
                                                        <div class="w-12 h-12 bg-blue-500 rounded-full flex items-center justify-center mr-4">
                                                            <svg class="w-6 h-6 text-white" fill="currentColor" viewBox="0 0 24 24">
                                                                <path d="M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"/>
                                                            </svg>
                                                        </div>
                                                        <div>
                                                            <h5 class="font-bold text-gray-800">Dr. Ahmad Santoso, Sp.PD</h5>
                                                            <p class="text-sm text-gray-600">Spesialis Penyakit Dalam</p>
                                                            <p class="text-xs text-gray-500">Diabetes, Hipertensi, Gangguan Metabolik</p>
                                                        </div>
                                                    </div>
                                                    <div class="text-right">
                                                        <p class="font-bold text-green-600">Rp 250.000</p>
                                                        <p class="text-xs text-gray-500">Biaya konsultasi</p>
                                                    </div>
                                                </div>
                                            </div>
                                            
                                            <div class="doctor-option border border-gray-300 rounded-lg p-4 cursor-pointer hover:border-blue-500 hover:bg-blue-50 transition-all" onclick="selectDoctor('dr-sari', 'Dr. Sari Indrawati, Sp.OG', 300000)">
                                                <div class="flex items-center justify-between">
                                                    <div class="flex items-center">
                                                        <div class="w-12 h-12 bg-pink-500 rounded-full flex items-center justify-center mr-4">
                                                            <svg class="w-6 h-6 text-white" fill="currentColor" viewBox="0 0 24 24">
                                                                <path d="M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"/>
                                                            </svg>
                                                        </div>
                                                        <div>
                                                            <h5 class="font-bold text-gray-800">Dr. Sari Indrawati, Sp.OG</h5>
                                                            <p class="text-sm text-gray-600">Spesialis Kandungan</p>
                                                            <p class="text-xs text-gray-500">Kehamilan, Persalinan, Program Bayi Tabung</p>
                                                        </div>
                                                    </div>
                                                    <div class="text-right">
                                                        <p class="font-bold text-green-600">Rp 300.000</p>
                                                        <p class="text-xs text-gray-500">Biaya konsultasi</p>
                                                    </div>
                                                </div>
                                            </div>
                                            
                                            <div class="doctor-option border border-gray-300 rounded-lg p-4 cursor-pointer hover:border-blue-500 hover:bg-blue-50 transition-all" onclick="selectDoctor('dr-budi', 'Dr. Budi Hartono, Sp.A', 150000)">
                                                <div class="flex items-center justify-between">
                                                    <div class="flex items-center">
                                                        <div class="w-12 h-12 bg-green-500 rounded-full flex items-center justify-center mr-4">
                                                            <svg class="w-6 h-6 text-white" fill="currentColor" viewBox="0 0 24 24">
                                                                <path d="M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"/>
                                                            </svg>
                                                        </div>
                                                        <div>
                                                            <h5 class="font-bold text-gray-800">Dr. Budi Hartono, Sp.A</h5>
                                                            <p class="text-sm text-gray-600">Spesialis Anak</p>
                                                            <p class="text-xs text-gray-500">Imunisasi, Tumbuh Kembang, Kesehatan Anak</p>
                                                        </div>
                                                    </div>
                                                    <div class="text-right">
                                                        <p class="font-bold text-green-600">Rp 150.000</p>
                                                        <p class="text-xs text-gray-500">Biaya konsultasi</p>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <input type="hidden" id="dokter" required>
                                        <input type="hidden" id="biaya-konsultasi">
                                    </div>
                                    
                                    <div class="grid md:grid-cols-2 gap-4">
                                        <div>
                                            <label class="block text-gray-700 font-semibold mb-2">Tanggal Konsultasi *</label>
                                            <input type="date" id="tanggal" required class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent">
                                            <p class="text-xs text-gray-500 mt-1">Pilih tanggal yang tersedia</p>
                                        </div>
                                        <div>
                                            <label class="block text-gray-700 font-semibold mb-2">Waktu Konsultasi *</label>
                                            <select id="waktu" required class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent">
                                                <option value="">Pilih Waktu</option>
                                                <option value="08:00">08:00 - 09:00</option>
                                                <option value="09:00">09:00 - 10:00</option>
                                                <option value="10:00">10:00 - 11:00</option>
                                                <option value="11:00">11:00 - 12:00</option>
                                                <option value="13:00">13:00 - 14:00</option>
                                                <option value="14:00">14:00 - 15:00</option>
                                                <option value="15:00">15:00 - 16:00</option>
                                                <option value="16:00">16:00 - 17:00</option>
                                            </select>
                                        </div>
                                    </div>
                                    
                                    <div>
                                        <label class="block text-gray-700 font-semibold mb-2">Keluhan / Gejala yang Dialami</label>
                                        <textarea id="keluhan" rows="4" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent" placeholder="Jelaskan keluhan, gejala, atau keperluan konsultasi Anda secara detail..."></textarea>
                                        <p class="text-xs text-gray-500 mt-1">Informasi ini membantu dokter mempersiapkan konsultasi yang lebih baik</p>
                                    </div>
                                </div>
                                
                                <div class="flex justify-between mt-8">
                                    <button type="button" onclick="prevStep(1)" class="bg-gray-300 text-gray-700 px-8 py-3 rounded-lg font-semibold hover:bg-gray-400 transition-all">
                                        ‚Üê Kembali
                                    </button>
                                    <button type="button" onclick="nextStep(3)" class="bg-blue-600 text-white px-8 py-3 rounded-lg font-semibold hover:bg-blue-700 transition-all">
                                        Lanjutkan ‚Üí
                                    </button>
                                </div>
                            </div>

                            <!-- Step 3: Konfirmasi -->
                            <div id="step-3" class="step-content hidden">
                                <h4 class="text-2xl font-bold text-gray-800 mb-6">‚úÖ Konfirmasi Data</h4>
                                
                                <div class="space-y-6">
                                    <!-- Summary Card -->
                                    <div class="bg-white border border-gray-200 rounded-lg p-6">
                                        <h5 class="font-bold text-gray-800 mb-4">Ringkasan Pendaftaran</h5>
                                        
                                        <div class="grid md:grid-cols-2 gap-6">
                                            <div>
                                                <h6 class="font-semibold text-gray-700 mb-3">Data Pasien</h6>
                                                <div class="space-y-2 text-sm">
                                                    <div class="flex justify-between">
                                                        <span class="text-gray-600">Nama:</span>
                                                        <span id="summary-nama" class="font-semibold"></span>
                                                    </div>
                                                    <div class="flex justify-between">
                                                        <span class="text-gray-600">Telepon:</span>
                                                        <span id="summary-telepon"></span>
                                                    </div>
                                                    <div class="flex justify-between">
                                                        <span class="text-gray-600">Email:</span>
                                                        <span id="summary-email"></span>
                                                    </div>
                                                    <div class="flex justify-between">
                                                        <span class="text-gray-600">Jenis Kelamin:</span>
                                                        <span id="summary-gender"></span>
                                                    </div>
                                                </div>
                                            </div>
                                            
                                            <div>
                                                <h6 class="font-semibold text-gray-700 mb-3">Detail Konsultasi</h6>
                                                <div class="space-y-2 text-sm">
                                                    <div class="flex justify-between">
                                                        <span class="text-gray-600">Dokter:</span>
                                                        <span id="summary-dokter" class="font-semibold"></span>
                                                    </div>
                                                    <div class="flex justify-between">
                                                        <span class="text-gray-600">Tanggal:</span>
                                                        <span id="summary-tanggal"></span>
                                                    </div>
                                                    <div class="flex justify-between">
                                                        <span class="text-gray-600">Waktu:</span>
                                                        <span id="summary-waktu"></span>
                                                    </div>
                                                    <div class="flex justify-between">
                                                        <span class="text-gray-600">Biaya:</span>
                                                        <span id="summary-biaya" class="font-bold text-green-600"></span>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        
                                        <div class="mt-4 pt-4 border-t border-gray-200">
                                            <h6 class="font-semibold text-gray-700 mb-2">Keluhan:</h6>
                                            <p id="summary-keluhan" class="text-sm text-gray-600 bg-gray-50 p-3 rounded"></p>
                                        </div>
                                    </div>
                                    
                                    <!-- Terms & Conditions -->
                                    <div class="bg-yellow-50 border border-yellow-200 p-4 rounded-lg">
                                        <h6 class="font-semibold text-yellow-800 mb-2">‚ö†Ô∏è Syarat & Ketentuan</h6>
                                        <div class="text-sm text-yellow-700 space-y-1">
                                            <label class="flex items-start">
                                                <input type="checkbox" id="agree-terms" required class="mt-1 mr-2">
                                                <span>Saya menyetujui <a href="#" class="text-blue-600 underline">syarat dan ketentuan</a> yang berlaku</span>
                                            </label>
                                            <label class="flex items-start">
                                                <input type="checkbox" id="agree-privacy" required class="mt-1 mr-2">
                                                <span>Saya menyetujui <a href="#" class="text-blue-600 underline">kebijakan privasi</a> rumah sakit</span>
                                            </label>
                                            <label class="flex items-start">
                                                <input type="checkbox" id="agree-contact" class="mt-1 mr-2">
                                                <span>Saya bersedia dihubungi melalui telepon/WhatsApp untuk konfirmasi</span>
                                            </label>
                                        </div>
                                    </div>
                                    
                                    <!-- Important Notes -->
                                    <div class="bg-blue-50 border border-blue-200 p-4 rounded-lg">
                                        <h6 class="font-semibold text-blue-800 mb-2">üìã Catatan Penting</h6>
                                        <ul class="text-sm text-blue-700 space-y-1">
                                            <li>‚Ä¢ Admin akan menghubungi Anda dalam 1x24 jam untuk konfirmasi</li>
                                            <li>‚Ä¢ Datang 15 menit sebelum jadwal konsultasi</li>
                                            <li>‚Ä¢ Bawa KTP dan kartu BPJS (jika ada)</li>
                                            <li>‚Ä¢ Pembayaran dapat dilakukan di tempat atau transfer</li>
                                        </ul>
                                    </div>
                                </div>
                                
                                <div class="flex justify-between mt-8">
                                    <button type="button" onclick="prevStep(2)" class="bg-gray-300 text-gray-700 px-8 py-3 rounded-lg font-semibold hover:bg-gray-400 transition-all">
                                        ‚Üê Kembali
                                    </button>
                                    <button type="submit" class="bg-green-600 text-white px-8 py-3 rounded-lg font-semibold hover:bg-green-700 transition-all shadow-lg">
                                        üéâ Daftar Sekarang
                                    </button>
                                </div>
                            </div>
                        </form>
                        
                        <!-- Success Message -->
                        <div id="success-message" class="hidden mt-6 p-6 bg-gradient-to-r from-green-100 to-blue-100 border border-green-400 text-green-800 rounded-xl shadow-lg">
                            <div class="text-center">
                                <div class="w-16 h-16 bg-green-500 rounded-full flex items-center justify-center mx-auto mb-4">
                                    <svg class="w-8 h-8 text-white" fill="currentColor" viewBox="0 0 20 20">
                                        <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"></path>
                                    </svg>
                                </div>
                                
                                <h4 class="text-2xl font-bold text-green-800 mb-2">üéâ Janji Temu Berhasil Dibuat!</h4>
                                
                                <div class="bg-white p-4 rounded-lg mb-4 border-2 border-green-300">
                                    <p class="text-sm text-gray-600 mb-1">ID Pendaftaran Anda:</p>
                                    <p class="text-3xl font-mono font-bold text-blue-600" id="registration-id"></p>
                                </div>
                                
                                <div class="bg-yellow-50 border border-yellow-300 p-4 rounded-lg mb-4">
                                    <h5 class="font-bold text-yellow-800 mb-2">üìù PENTING - Simpan Informasi Ini:</h5>
                                    <ul class="text-sm text-yellow-700 space-y-1 text-left">
                                        <li>‚Ä¢ <strong>ID Pendaftaran</strong> dan <strong>Nomor Telepon</strong> Anda</li>
                                        <li>‚Ä¢ Gunakan untuk login dan cek status janji temu</li>
                                        <li>‚Ä¢ Admin akan menghubungi dalam 1x24 jam</li>
                                    </ul>
                                </div>
                                
                                <div class="flex flex-col sm:flex-row gap-3 justify-center">
                                    <button onclick="showPatientLoginModal()" class="bg-green-600 text-white px-6 py-3 rounded-lg font-semibold hover:bg-green-700 transition-all flex items-center justify-center">
                                        <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 24 24">
                                            <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 3c1.66 0 3 1.34 3 3s-1.34 3-3 3-3-1.34-3-3 1.34-3 3-3zm0 14.2c-2.5 0-4.71-1.28-6-3.22.03-1.99 4-3.08 6-3.08 1.99 0 5.97 1.09 6 3.08-1.29 1.94-3.5 3.22-6 3.22z"/>
                                        </svg>
                                        Login & Cek Status
                                    </button>
                                    <button onclick="document.getElementById('success-message').classList.add('hidden')" class="bg-gray-300 text-gray-700 px-6 py-3 rounded-lg font-semibold hover:bg-gray-400 transition-all">
                                        Tutup
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Info Kontak -->
                    <div class="space-y-8">
                        <div class="bg-white p-8 rounded-2xl shadow-lg border border-gray-100">
                            <h4 class="text-2xl font-bold text-gray-800 mb-6">Informasi Kontak</h4>
                            
                            <div class="space-y-6">
                                <div class="flex items-start space-x-4">
                                    <div class="w-12 h-12 bg-blue-500 rounded-full flex items-center justify-center flex-shrink-0">
                                        <svg class="w-6 h-6 text-white" fill="currentColor" viewBox="0 0 24 24">
                                            <path d="M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z"/>
                                        </svg>
                                    </div>
                                    <div>
                                        <h5 class="font-semibold text-gray-800 mb-1">Alamat</h5>
                                        <p class="text-gray-600">Jl. Kesehatan Raya No. 123<br>Jakarta Pusat, DKI Jakarta 10110</p>
                                    </div>
                                </div>
                                
                                <div class="flex items-start space-x-4">
                                    <div class="w-12 h-12 bg-green-500 rounded-full flex items-center justify-center flex-shrink-0">
                                        <svg class="w-6 h-6 text-white" fill="currentColor" viewBox="0 0 24 24">
                                            <path d="M6.62 10.79c1.44 2.83 3.76 5.14 6.59 6.59l2.2-2.2c.27-.27.67-.36 1.02-.24 1.12.37 2.33.57 3.57.57.55 0 1 .45 1 1V20c0 .55-.45 1-1 1-9.39 0-17-7.61-17-17 0-.55.45-1 1-1h3.5c.55 0 1 .45 1 1 0 1.25.2 2.45.57 3.57.11.35.03.74-.25 1.02l-2.2 2.2z"/>
                                        </svg>
                                    </div>
                                    <div>
                                        <h5 class="font-semibold text-gray-800 mb-1">Telepon</h5>
                                        <p class="text-gray-600">(021) 123-4567<br>0800-1234-5678 (Bebas Pulsa)</p>
                                    </div>
                                </div>
                                
                                <div class="flex items-start space-x-4">
                                    <div class="w-12 h-12 bg-purple-500 rounded-full flex items-center justify-center flex-shrink-0">
                                        <svg class="w-6 h-6 text-white" fill="currentColor" viewBox="0 0 24 24">
                                            <path d="M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 4l-8 5-8-5V6l8 5 8-5v2z"/>
                                        </svg>
                                    </div>
                                    <div>
                                        <h5 class="font-semibold text-gray-800 mb-1">Email</h5>
                                        <p class="text-gray-600">info@rssehat.co.id<br>emergency@rssehat.co.id</p>
                                    </div>
                                </div>
                                
                                <div class="flex items-start space-x-4">
                                    <div class="w-12 h-12 bg-orange-500 rounded-full flex items-center justify-center flex-shrink-0">
                                        <svg class="w-6 h-6 text-white" fill="currentColor" viewBox="0 0 24 24">
                                            <path d="M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"/>
                                            <path d="M12.5 7H11v6l5.25 3.15.75-1.23-4.5-2.67z"/>
                                        </svg>
                                    </div>
                                    <div>
                                        <h5 class="font-semibold text-gray-800 mb-1">Jam Operasional</h5>
                                        <p class="text-gray-600">Senin - Jumat: 08:00 - 20:00<br>Sabtu - Minggu: 08:00 - 16:00<br><span class="text-red-600 font-semibold">IGD: 24 Jam</span></p>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Emergency -->
                        <div class="bg-gradient-to-r from-red-500 to-red-600 p-8 rounded-2xl shadow-lg text-white text-center pulse hover-lift">
                            <svg class="w-16 h-16 mx-auto mb-4 floating-animation" fill="currentColor" viewBox="0 0 24 24">
                                <path d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"/>
                            </svg>
                            <h4 class="text-2xl font-bold mb-2">Gawat Darurat</h4>
                            <p class="mb-4">Hubungi segera untuk kondisi darurat</p>
                            <p class="text-3xl font-bold bounce-in">119</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Footer -->
        <footer class="bg-gray-800 text-white py-12">
            <div class="container mx-auto px-4">
                <div class="grid md:grid-cols-3 gap-8">
                    <div>
                        <div class="flex items-center space-x-3 mb-6">
                            <div class="w-10 h-10 bg-gradient-to-br from-blue-500 to-green-500 rounded-full flex items-center justify-center">
                                <svg class="w-6 h-6 text-white" fill="currentColor" viewBox="0 0 24 24">
                                    <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"/>
                                </svg>
                            </div>
                            <div>
                                <h3 class="text-xl font-bold">RS Sehat Sejahtera</h3>
                            </div>
                        </div>
                        <p class="text-gray-300 mb-4">Melayani dengan sepenuh hati untuk kesehatan keluarga Indonesia. Kepercayaan Anda adalah komitmen kami.</p>
                    </div>
                    
                    <div>
                        <h4 class="text-lg font-semibold mb-4">Layanan Unggulan</h4>
                        <ul class="space-y-2 text-gray-300">
                            <li>‚Ä¢ Poliklinik Spesialis</li>
                            <li>‚Ä¢ IGD 24 Jam</li>
                            <li>‚Ä¢ Rawat Inap</li>
                            <li>‚Ä¢ Laboratorium</li>
                            <li>‚Ä¢ Apotek</li>
                        </ul>
                    </div>
                    
                    <div>
                        <h4 class="text-lg font-semibold mb-4">Kontak Cepat</h4>
                        <div class="space-y-2 text-gray-300">
                            <p>üìç Jl. Kesehatan Raya No. 123, Jakarta</p>
                            <p>üìû (021) 123-4567</p>
                            <p>‚úâÔ∏è info@rssehat.co.id</p>
                            <p class="text-red-400 font-semibold">üö® Emergency: 119</p>
                        </div>
                    </div>
                </div>
                
                <div class="border-t border-gray-700 mt-8 pt-8 text-center text-gray-400">
                    <p>&copy; 2024 RS Sehat Sejahtera. Semua hak dilindungi undang-undang.</p>
                </div>
            </div>
        </footer>
    </div>

    <script>
        // Global variables
        let appointments = [];
        let doctors = [];
        let currentAppointmentId = null;
        let isAdminLoggedIn = false;
        let isPatientLoggedIn = false;
        let currentPatientData = null;
        let currentStep = 1;
        let selectedDoctor = null;
        let selectedDoctorName = '';
        let selectedDoctorCost = 0;
        let currentAdminTab = 'appointments';

        // Initialize empty arrays
        appointments = [];
        doctors = [];

        // Mobile menu toggle
        document.getElementById('mobile-menu-btn').addEventListener('click', function() {
            const mobileMenu = document.getElementById('mobile-menu');
            mobileMenu.classList.toggle('hidden');
        });

        // Multi-step form functions
        function nextStep(step) {
            // Validate current step before proceeding
            if (!validateCurrentStep()) {
                return;
            }
            
            // Hide current step
            document.getElementById(`step-${currentStep}`).classList.add('hidden');
            
            // Update progress indicators
            updateProgressIndicators(step);
            
            // Show next step
            document.getElementById(`step-${step}`).classList.remove('hidden');
            
            // Update current step
            currentStep = step;
            
            // Populate summary if going to step 3
            if (step === 3) {
                populateSummary();
            }
            
            // Scroll to top of form
            document.getElementById('appointment-form').scrollIntoView({
                behavior: 'smooth',
                block: 'start'
            });
        }

        function prevStep(step) {
            // Hide current step
            document.getElementById(`step-${currentStep}`).classList.add('hidden');
            
            // Update progress indicators
            updateProgressIndicators(step);
            
            // Show previous step
            document.getElementById(`step-${step}`).classList.remove('hidden');
            
            // Update current step
            currentStep = step;
            
            // Scroll to top of form
            document.getElementById('appointment-form').scrollIntoView({
                behavior: 'smooth',
                block: 'start'
            });
        }

        function updateProgressIndicators(targetStep) {
            // Reset all indicators
            for (let i = 1; i <= 3; i++) {
                const indicator = document.getElementById(`step-${i}-indicator`);
                const label = indicator.nextElementSibling;
                
                if (i <= targetStep) {
                    // Completed or current step
                    indicator.className = 'w-8 h-8 bg-blue-600 text-white rounded-full flex items-center justify-center text-sm font-bold';
                    label.className = 'ml-2 text-sm font-semibold text-blue-600';
                } else {
                    // Future step
                    indicator.className = 'w-8 h-8 bg-gray-300 text-gray-600 rounded-full flex items-center justify-center text-sm font-bold';
                    label.className = 'ml-2 text-sm text-gray-600';
                }
            }
            
            // Update progress bars
            const progress12 = document.getElementById('progress-1-2');
            const progress23 = document.getElementById('progress-2-3');
            
            if (targetStep >= 2) {
                progress12.className = 'h-full bg-blue-600 transition-all duration-500';
            } else {
                progress12.className = 'h-full bg-gray-200 transition-all duration-500';
            }
            
            if (targetStep >= 3) {
                progress23.className = 'h-full bg-blue-600 transition-all duration-500';
            } else {
                progress23.className = 'h-full bg-gray-200 transition-all duration-500';
            }
        }

        function validateCurrentStep() {
            if (currentStep === 1) {
                // Validate step 1 fields
                const nama = document.getElementById('nama').value.trim();
                const telepon = document.getElementById('telepon').value.trim();
                const email = document.getElementById('email').value.trim();
                const tanggalLahir = document.getElementById('tanggal-lahir').value;
                const jenisKelamin = document.getElementById('jenis-kelamin').value;
                const alamat = document.getElementById('alamat').value.trim();
                
                if (!nama) {
                    showNotification('Nama lengkap harus diisi!', 'error');
                    document.getElementById('nama').focus();
                    return false;
                }
                
                if (!telepon) {
                    showNotification('Nomor telepon harus diisi!', 'error');
                    document.getElementById('telepon').focus();
                    return false;
                }
                
                const phoneRegex = /^[0-9+\-\s()]{10,15}$/;
                if (!phoneRegex.test(telepon)) {
                    showNotification('Format nomor telepon tidak valid!', 'error');
                    document.getElementById('telepon').focus();
                    return false;
                }
                
                if (!email) {
                    showNotification('Email harus diisi!', 'error');
                    document.getElementById('email').focus();
                    return false;
                }
                
                const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
                if (!emailRegex.test(email)) {
                    showNotification('Format email tidak valid!', 'error');
                    document.getElementById('email').focus();
                    return false;
                }
                
                if (!tanggalLahir) {
                    showNotification('Tanggal lahir harus diisi!', 'error');
                    document.getElementById('tanggal-lahir').focus();
                    return false;
                }
                
                if (!jenisKelamin) {
                    showNotification('Jenis kelamin harus dipilih!', 'error');
                    document.getElementById('jenis-kelamin').focus();
                    return false;
                }
                
                if (!alamat) {
                    showNotification('Alamat lengkap harus diisi!', 'error');
                    document.getElementById('alamat').focus();
                    return false;
                }
                
                return true;
            } else if (currentStep === 2) {
                // Validate step 2 fields
                const dokter = document.getElementById('dokter').value;
                const tanggal = document.getElementById('tanggal').value;
                const waktu = document.getElementById('waktu').value;
                
                if (!dokter) {
                    showNotification('Pilih dokter terlebih dahulu!', 'error');
                    return false;
                }
                
                if (!tanggal) {
                    showNotification('Tanggal konsultasi harus dipilih!', 'error');
                    document.getElementById('tanggal').focus();
                    return false;
                }
                
                // Validate date is not in the past
                const selectedDate = new Date(tanggal);
                const today = new Date();
                today.setHours(0, 0, 0, 0);
                
                if (selectedDate < today) {
                    showNotification('Tanggal tidak boleh di masa lalu!', 'error');
                    document.getElementById('tanggal').focus();
                    return false;
                }
                
                if (!waktu) {
                    showNotification('Waktu konsultasi harus dipilih!', 'error');
                    document.getElementById('waktu').focus();
                    return false;
                }
                
                return true;
            }
            
            return true;
        }

        function selectDoctor(doctorId, doctorName, cost) {
            // Remove selection from all doctor options
            document.querySelectorAll('.doctor-option').forEach(option => {
                option.classList.remove('border-blue-500', 'bg-blue-50');
                option.classList.add('border-gray-300');
            });
            
            // Add selection to clicked option
            event.currentTarget.classList.remove('border-gray-300');
            event.currentTarget.classList.add('border-blue-500', 'bg-blue-50');
            
            // Update hidden fields
            document.getElementById('dokter').value = doctorName;
            document.getElementById('biaya-konsultasi').value = cost;
            
            // Store selected doctor info
            selectedDoctor = doctorId;
            selectedDoctorName = doctorName;
            selectedDoctorCost = cost;
            
            showNotification(`Dokter ${doctorName} dipilih!`, 'success');
        }

        function populateSummary() {
            // Get all form values
            const nama = document.getElementById('nama').value;
            const telepon = document.getElementById('telepon').value;
            const email = document.getElementById('email').value;
            const jenisKelamin = document.getElementById('jenis-kelamin').value;
            const tanggal = document.getElementById('tanggal').value;
            const waktu = document.getElementById('waktu').value;
            const keluhan = document.getElementById('keluhan').value || 'Konsultasi umum';
            
            // Format date
            const formattedDate = new Date(tanggal).toLocaleDateString('id-ID', {
                weekday: 'long',
                year: 'numeric',
                month: 'long',
                day: 'numeric'
            });
            
            // Format cost
            const formattedCost = new Intl.NumberFormat('id-ID', {
                style: 'currency',
                currency: 'IDR'
            }).format(selectedDoctorCost);
            
            // Populate summary fields
            document.getElementById('summary-nama').textContent = nama;
            document.getElementById('summary-telepon').textContent = telepon;
            document.getElementById('summary-email').textContent = email;
            document.getElementById('summary-gender').textContent = jenisKelamin;
            document.getElementById('summary-dokter').textContent = selectedDoctorName;
            document.getElementById('summary-tanggal').textContent = formattedDate;
            document.getElementById('summary-waktu').textContent = waktu + ':00';
            document.getElementById('summary-biaya').textContent = formattedCost;
            document.getElementById('summary-keluhan').textContent = keluhan;
        }

        // Smooth scrolling for navigation links
        function scrollToSection(sectionId) {
            document.getElementById(sectionId).scrollIntoView({
                behavior: 'smooth'
            });
        }

        // Add smooth scrolling to all navigation links
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                const target = document.querySelector(this.getAttribute('href'));
                if (target) {
                    target.scrollIntoView({
                        behavior: 'smooth'
                    });
                }
                // Close mobile menu if open
                document.getElementById('mobile-menu').classList.add('hidden');
            });
        });

        // Patient Login Modal Functions
        function showPatientLoginModal() {
            document.getElementById('patient-login-modal').classList.remove('hidden');
        }

        function hidePatientLoginModal() {
            document.getElementById('patient-login-modal').classList.add('hidden');
        }

        // Admin Login Modal Functions
        function showLoginModal() {
            document.getElementById('login-modal').classList.remove('hidden');
        }

        function hideLoginModal() {
            document.getElementById('login-modal').classList.add('hidden');
        }

        // Patient login form
        document.getElementById('patient-login-form').addEventListener('submit', function(e) {
            e.preventDefault();
            
            const patientId = document.getElementById('patient-id').value.toUpperCase();
            const patientPhone = document.getElementById('patient-phone').value;
            
            // Find appointment by ID and phone
            const appointment = appointments.find(apt => 
                apt.id === patientId && apt.telepon === patientPhone
            );
            
            if (appointment) {
                isPatientLoggedIn = true;
                currentPatientData = appointment;
                hidePatientLoginModal();
                showPatientDashboard();
                showNotification(`Selamat datang, ${appointment.nama}!`, 'success');
            } else {
                showNotification('ID Pendaftaran atau nomor telepon tidak ditemukan!', 'error');
            }
        });

        // Admin login form
        document.getElementById('admin-login-form').addEventListener('submit', function(e) {
            e.preventDefault();
            
            const username = document.getElementById('admin-username').value;
            const password = document.getElementById('admin-password').value;
            
            // Simple authentication (in real app, this would be server-side)
            if (username === 'admin' && password === 'admin123') {
                isAdminLoggedIn = true;
                hideLoginModal();
                showAdminDashboard();
                showNotification('Login berhasil! Selamat datang di dashboard admin.', 'success');
            } else {
                showNotification('Username atau password salah!', 'error');
            }
        });

        // Show patient dashboard
        function showPatientDashboard() {
            document.getElementById('main-content').classList.add('hidden');
            document.getElementById('patient-dashboard').classList.remove('hidden');
            populatePatientDashboard();
        }

        // Populate patient dashboard with data
        function populatePatientDashboard() {
            if (!currentPatientData) return;
            
            const appointment = currentPatientData;
            
            // Update header
            document.getElementById('patient-name-header').textContent = appointment.nama;
            document.getElementById('patient-id-header').textContent = appointment.id;
            
            // Update status badge
            const statusBadge = document.getElementById('patient-status-badge');
            statusBadge.innerHTML = getStatusBadge(appointment.status);
            
            // Update patient details
            const patientDetails = document.getElementById('patient-details');
            const formattedDate = new Date(appointment.tanggal).toLocaleDateString('id-ID', {
                weekday: 'long',
                year: 'numeric',
                month: 'long',
                day: 'numeric'
            });
            const formattedCost = new Intl.NumberFormat('id-ID', {
                style: 'currency',
                currency: 'IDR'
            }).format(appointment.biaya);
            
            patientDetails.innerHTML = `
                <div class="bg-gray-50 p-4 rounded-lg">
                    <h4 class="font-semibold text-gray-800 mb-3">Informasi Pasien</h4>
                    <div class="space-y-2 text-sm">
                        <div class="flex justify-between">
                            <span class="text-gray-600">Nama:</span>
                            <span class="font-semibold">${appointment.nama}</span>
                        </div>
                        <div class="flex justify-between">
                            <span class="text-gray-600">ID Pendaftaran:</span>
                            <span class="font-mono font-bold text-blue-600">${appointment.id}</span>
                        </div>
                        <div class="flex justify-between">
                            <span class="text-gray-600">Telepon:</span>
                            <span>${appointment.telepon}</span>
                        </div>
                        <div class="flex justify-between">
                            <span class="text-gray-600">Email:</span>
                            <span>${appointment.email}</span>
                        </div>
                    </div>
                </div>
                
                <div class="bg-gray-50 p-4 rounded-lg">
                    <h4 class="font-semibold text-gray-800 mb-3">Detail Janji Temu</h4>
                    <div class="space-y-2 text-sm">
                        <div class="flex justify-between">
                            <span class="text-gray-600">Dokter:</span>
                            <span class="font-semibold">${appointment.dokter}</span>
                        </div>
                        <div class="flex justify-between">
                            <span class="text-gray-600">Tanggal:</span>
                            <span>${formattedDate}</span>
                        </div>
                        <div class="flex justify-between">
                            <span class="text-gray-600">Keluhan:</span>
                            <span>${appointment.keluhan}</span>
                        </div>
                        <div class="flex justify-between">
                            <span class="text-gray-600">Biaya:</span>
                            <span class="font-bold text-green-600">${formattedCost}</span>
                        </div>
                    </div>
                </div>
            `;
            
            // Show/hide payment section based on status
            const paymentSection = document.getElementById('payment-info-section');
            if (appointment.status === 'confirmed') {
                paymentSection.classList.remove('hidden');
                document.getElementById('consultation-fee').textContent = formattedCost;
                const totalWithAdmin = appointment.biaya + 5000;
                document.getElementById('total-payment').textContent = new Intl.NumberFormat('id-ID', {
                    style: 'currency',
                    currency: 'IDR'
                }).format(totalWithAdmin);
            } else {
                paymentSection.classList.add('hidden');
            }
            
            // Update instructions based on status
            updatePatientInstructions(appointment.status);
        }

        // Update patient instructions based on status
        function updatePatientInstructions(status) {
            const instructionsDiv = document.getElementById('patient-instructions');
            let instructions = '';
            
            switch (status) {
                case 'pending':
                    instructions = `
                        <div class="bg-yellow-50 border border-yellow-200 p-4 rounded-lg">
                            <h4 class="font-semibold text-yellow-800 mb-2">‚è≥ Menunggu Konfirmasi</h4>
                            <p class="text-yellow-700 text-sm">Pendaftaran Anda sedang diproses oleh admin rumah sakit. Kami akan menghubungi Anda dalam 1x24 jam untuk konfirmasi jadwal.</p>
                        </div>
                    `;
                    break;
                case 'confirmed':
                    instructions = `
                        <div class="bg-blue-50 border border-blue-200 p-4 rounded-lg">
                            <h4 class="font-semibold text-blue-800 mb-2">‚úÖ Janji Temu Dikonfirmasi</h4>
                            <p class="text-blue-700 text-sm mb-3">Janji temu Anda telah dikonfirmasi. Silakan lakukan pembayaran untuk mengamankan slot konsultasi.</p>
                            <div class="bg-blue-100 p-3 rounded">
                                <p class="text-blue-800 text-sm font-semibold">Langkah selanjutnya:</p>
                                <ol class="text-blue-700 text-sm mt-2 space-y-1">
                                    <li>1. Transfer sesuai nominal yang tertera</li>
                                    <li>2. Upload bukti pembayaran</li>
                                    <li>3. Tunggu konfirmasi dari admin</li>
                                </ol>
                            </div>
                        </div>
                    `;
                    break;
                case 'paid':
                    instructions = `
                        <div class="bg-green-50 border border-green-200 p-4 rounded-lg">
                            <h4 class="font-semibold text-green-800 mb-2">üí∞ Pembayaran Lunas</h4>
                            <p class="text-green-700 text-sm mb-3">Pembayaran Anda telah dikonfirmasi. Janji temu siap dilaksanakan sesuai jadwal.</p>
                            <div class="bg-green-100 p-3 rounded">
                                <p class="text-green-800 text-sm font-semibold">Persiapan konsultasi:</p>
                                <ul class="text-green-700 text-sm mt-2 space-y-1">
                                    <li>‚Ä¢ Datang 15 menit sebelum jadwal</li>
                                    <li>‚Ä¢ Bawa dokumen identitas</li>
                                    <li>‚Ä¢ Siapkan daftar keluhan</li>
                                </ul>
                            </div>
                        </div>
                    `;
                    break;
                case 'cancelled':
                    instructions = `
                        <div class="bg-red-50 border border-red-200 p-4 rounded-lg">
                            <h4 class="font-semibold text-red-800 mb-2">‚ùå Janji Temu Dibatalkan</h4>
                            <p class="text-red-700 text-sm">Janji temu Anda telah dibatalkan. Silakan hubungi customer service untuk informasi lebih lanjut.</p>
                        </div>
                    `;
                    break;
            }
            
            instructionsDiv.innerHTML = instructions;
        }

        // Logout patient
        function logoutPatient() {
            isPatientLoggedIn = false;
            currentPatientData = null;
            document.getElementById('patient-dashboard').classList.add('hidden');
            document.getElementById('main-content').classList.remove('hidden');
            showNotification('Logout berhasil!', 'success');
        }

        // Upload payment proof
        function uploadPaymentProof() {
            const fileInput = document.getElementById('payment-proof');
            const file = fileInput.files[0];
            
            if (!file) {
                showNotification('Pilih file bukti pembayaran terlebih dahulu!', 'error');
                return;
            }
            
            if (!file.type.startsWith('image/')) {
                showNotification('File harus berupa gambar!', 'error');
                return;
            }
            
            // Check file size (max 5MB)
            if (file.size > 5 * 1024 * 1024) {
                showNotification('Ukuran file terlalu besar! Maksimal 5MB.', 'error');
                return;
            }
            
            // Convert image to base64 for storage
            const reader = new FileReader();
            reader.onload = function(e) {
                const imageData = e.target.result;
                const fileName = `bukti_bayar_${currentPatientData.id.toLowerCase()}.${file.name.split('.').pop()}`;
                
                // Store both filename and image data
                currentPatientData.paymentProof = fileName;
                currentPatientData.paymentProofImage = imageData;
                
                // Update appointment in the main array
                const appointmentIndex = appointments.findIndex(apt => apt.id === currentPatientData.id);
                if (appointmentIndex !== -1) {
                    appointments[appointmentIndex].paymentProof = fileName;
                    appointments[appointmentIndex].paymentProofImage = imageData;
                }
                
                showNotification('Bukti pembayaran berhasil diupload! Admin akan memverifikasi dalam 1x24 jam.', 'success');
                
                // Clear file input
                fileInput.value = '';
                
                // Update admin dashboard if logged in
                if (isAdminLoggedIn) {
                    renderAppointmentsTable();
                }
            };
            
            reader.onerror = function() {
                showNotification('Gagal membaca file! Silakan coba lagi.', 'error');
            };
            
            reader.readAsDataURL(file);
        }

        // Show admin dashboard
        function showAdminDashboard() {
            document.getElementById('main-content').classList.add('hidden');
            document.getElementById('patient-dashboard').classList.add('hidden');
            document.getElementById('admin-dashboard').classList.remove('hidden');
            updateDashboardStats();
            renderAppointmentsTable();
            renderDoctorsGrid();
            renderDoctorsList();
            renderDoctorOptions();
            updateCurrentTime();
            
            // Update time every minute
            setInterval(updateCurrentTime, 60000);
        }

        // Admin tab management
        function showAdminTab(tabName) {
            // Update tab buttons
            document.querySelectorAll('.admin-tab').forEach(tab => {
                tab.classList.remove('active');
                tab.classList.add('border-transparent', 'text-gray-500');
                tab.classList.remove('border-blue-600', 'text-blue-600');
            });
            
            // Activate current tab
            const activeTab = document.getElementById(`${tabName}-tab`);
            activeTab.classList.add('active');
            activeTab.classList.remove('border-transparent', 'text-gray-500');
            activeTab.classList.add('border-blue-600', 'text-blue-600');
            
            // Show/hide content
            document.querySelectorAll('.admin-tab-content').forEach(content => {
                content.classList.add('hidden');
            });
            
            document.getElementById(`${tabName}-content`).classList.remove('hidden');
            currentAdminTab = tabName;
        }

        // Doctor management functions
        function addDoctor(doctorData) {
            const newDoctor = {
                id: `DOC${String(doctors.length + 1).padStart(3, '0')}`,
                name: doctorData.name,
                specialty: doctorData.specialty,
                fee: parseInt(doctorData.fee),
                experience: parseInt(doctorData.experience) || 0,
                description: doctorData.description || '',
                skills: doctorData.skills ? doctorData.skills.split(',').map(s => s.trim()) : [],
                color: doctorData.color || 'blue',
                createdAt: new Date(),
                isActive: true
            };
            
            doctors.push(newDoctor);
            renderDoctorsGrid();
            renderDoctorsList();
            renderDoctorOptions();
            updateDoctorCount();
            
            return newDoctor;
        }

        function deleteDoctor(doctorId) {
            const doctorIndex = doctors.findIndex(doc => doc.id === doctorId);
            if (doctorIndex !== -1) {
                const doctor = doctors[doctorIndex];
                
                // Check if doctor has appointments
                const hasAppointments = appointments.some(apt => apt.dokter === doctor.name);
                
                if (hasAppointments) {
                    if (confirm(`Dr. ${doctor.name} memiliki janji temu yang terdaftar. Yakin ingin menghapus? Data janji temu akan tetap ada.`)) {
                        doctors.splice(doctorIndex, 1);
                        renderDoctorsGrid();
                        renderDoctorsList();
                        renderDoctorOptions();
                        updateDoctorCount();
                        showNotification(`Dr. ${doctor.name} berhasil dihapus!`, 'success');
                    }
                } else {
                    if (confirm(`Yakin ingin menghapus Dr. ${doctor.name}?`)) {
                        doctors.splice(doctorIndex, 1);
                        renderDoctorsGrid();
                        renderDoctorsList();
                        renderDoctorOptions();
                        updateDoctorCount();
                        showNotification(`Dr. ${doctor.name} berhasil dihapus!`, 'success');
                    }
                }
            }
        }

        function toggleDoctorStatus(doctorId) {
            const doctor = doctors.find(doc => doc.id === doctorId);
            if (doctor) {
                doctor.isActive = !doctor.isActive;
                renderDoctorsGrid();
                renderDoctorsList();
                renderDoctorOptions();
                
                const status = doctor.isActive ? 'diaktifkan' : 'dinonaktifkan';
                showNotification(`Dr. ${doctor.name} berhasil ${status}!`, 'info');
            }
        }

        function updateDoctorCount() {
            document.getElementById('total-doctors').textContent = doctors.length;
        }

        // Render doctors grid for public page
        function renderDoctorsGrid() {
            const grid = document.getElementById('doctors-grid');
            const noMessage = document.getElementById('no-doctors-message');
            
            if (doctors.length === 0) {
                grid.innerHTML = '';
                noMessage.classList.remove('hidden');
                return;
            }
            
            noMessage.classList.add('hidden');
            
            const colors = {
                blue: 'from-blue-400 to-blue-600',
                green: 'from-green-400 to-green-600',
                purple: 'from-purple-400 to-purple-600',
                pink: 'from-pink-400 to-pink-600',
                indigo: 'from-indigo-400 to-indigo-600',
                red: 'from-red-400 to-red-600',
                yellow: 'from-yellow-400 to-yellow-600',
                teal: 'from-teal-400 to-teal-600'
            };
            
            grid.innerHTML = doctors.filter(doc => doc.isActive).map((doctor, index) => `
                <div class="doctor-card bg-white p-8 rounded-2xl shadow-lg text-center hover-lift hover-glow scale-in delay-${(index + 1) * 100}">
                    <div class="w-32 h-32 mx-auto mb-6 bg-gradient-to-br ${colors[doctor.color]} rounded-full flex items-center justify-center floating-animation">
                        <svg class="w-16 h-16 text-white" fill="currentColor" viewBox="0 0 24 24">
                            <path d="M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"/>
                        </svg>
                    </div>
                    <h4 class="text-2xl font-bold text-gray-800 mb-2">${doctor.name}</h4>
                    <p class="text-${doctor.color}-600 font-semibold mb-4">${doctor.specialty}</p>
                    <p class="text-gray-600 mb-6">${doctor.description || `Berpengalaman ${doctor.experience} tahun dalam bidang ${doctor.specialty.toLowerCase()}.`}</p>
                    <div class="flex justify-center flex-wrap gap-2">
                        ${doctor.skills.slice(0, 2).map(skill => `
                            <span class="bg-${doctor.color}-100 text-${doctor.color}-800 px-3 py-1 rounded-full text-sm hover:bg-${doctor.color}-200 transition-colors">${skill}</span>
                        `).join('')}
                    </div>
                </div>
            `).join('');
        }

        // Render doctors list for admin
        function renderDoctorsList() {
            const list = document.getElementById('doctors-list');
            const noMessage = document.getElementById('no-doctors-admin');
            
            if (doctors.length === 0) {
                list.innerHTML = '';
                noMessage.classList.remove('hidden');
                return;
            }
            
            noMessage.classList.add('hidden');
            
            list.innerHTML = doctors.map(doctor => {
                const formattedFee = new Intl.NumberFormat('id-ID', {
                    style: 'currency',
                    currency: 'IDR'
                }).format(doctor.fee);
                
                const statusBadge = doctor.isActive 
                    ? '<span class="bg-green-100 text-green-800 px-2 py-1 text-xs font-semibold rounded-full">Aktif</span>'
                    : '<span class="bg-red-100 text-red-800 px-2 py-1 text-xs font-semibold rounded-full">Nonaktif</span>';
                
                return `
                    <div class="border border-gray-200 rounded-lg p-4 mb-4 hover:shadow-md transition-all">
                        <div class="flex items-start justify-between">
                            <div class="flex items-start space-x-4">
                                <div class="w-16 h-16 bg-gradient-to-br from-${doctor.color}-400 to-${doctor.color}-600 rounded-full flex items-center justify-center flex-shrink-0">
                                    <svg class="w-8 h-8 text-white" fill="currentColor" viewBox="0 0 24 24">
                                        <path d="M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"/>
                                    </svg>
                                </div>
                                <div class="flex-1">
                                    <div class="flex items-center space-x-3 mb-2">
                                        <h4 class="text-lg font-bold text-gray-800">${doctor.name}</h4>
                                        ${statusBadge}
                                    </div>
                                    <p class="text-${doctor.color}-600 font-semibold mb-1">${doctor.specialty}</p>
                                    <p class="text-sm text-gray-600 mb-2">${doctor.description || 'Tidak ada deskripsi'}</p>
                                    <div class="flex items-center space-x-4 text-sm text-gray-500">
                                        <span>üí∞ ${formattedFee}</span>
                                        <span>üìÖ ${doctor.experience} tahun</span>
                                        <span>üÜî ${doctor.id}</span>
                                    </div>
                                    ${doctor.skills.length > 0 ? `
                                        <div class="mt-2 flex flex-wrap gap-1">
                                            ${doctor.skills.map(skill => `
                                                <span class="bg-gray-100 text-gray-700 px-2 py-1 text-xs rounded">${skill}</span>
                                            `).join('')}
                                        </div>
                                    ` : ''}
                                </div>
                            </div>
                            <div class="flex flex-col space-y-2">
                                <button onclick="toggleDoctorStatus('${doctor.id}')" class="px-3 py-1 text-xs rounded ${doctor.isActive ? 'bg-yellow-600 hover:bg-yellow-700' : 'bg-green-600 hover:bg-green-700'} text-white">
                                    ${doctor.isActive ? 'Nonaktifkan' : 'Aktifkan'}
                                </button>
                                <button onclick="deleteDoctor('${doctor.id}')" class="px-3 py-1 text-xs rounded bg-red-600 hover:bg-red-700 text-white">
                                    Hapus
                                </button>
                            </div>
                        </div>
                    </div>
                `;
            }).join('');
        }

        // Render doctor options for appointment form
        function renderDoctorOptions() {
            const container = document.getElementById('doctor-options-container');
            const noMessage = document.getElementById('no-doctors-available');
            
            const activeDoctors = doctors.filter(doc => doc.isActive);
            
            if (activeDoctors.length === 0) {
                container.innerHTML = '';
                noMessage.classList.remove('hidden');
                return;
            }
            
            noMessage.classList.add('hidden');
            
            const colors = {
                blue: 'bg-blue-500',
                green: 'bg-green-500',
                purple: 'bg-purple-500',
                pink: 'bg-pink-500',
                indigo: 'bg-indigo-500',
                red: 'bg-red-500',
                yellow: 'bg-yellow-500',
                teal: 'bg-teal-500'
            };
            
            container.innerHTML = activeDoctors.map(doctor => {
                const formattedFee = new Intl.NumberFormat('id-ID', {
                    style: 'currency',
                    currency: 'IDR'
                }).format(doctor.fee);
                
                return `
                    <div class="doctor-option border border-gray-300 rounded-lg p-4 cursor-pointer hover:border-blue-500 hover:bg-blue-50 transition-all" onclick="selectDoctor('${doctor.id}', '${doctor.name}', ${doctor.fee})">
                        <div class="flex items-center justify-between">
                            <div class="flex items-center">
                                <div class="w-12 h-12 ${colors[doctor.color]} rounded-full flex items-center justify-center mr-4">
                                    <svg class="w-6 h-6 text-white" fill="currentColor" viewBox="0 0 24 24">
                                        <path d="M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"/>
                                    </svg>
                                </div>
                                <div>
                                    <h5 class="font-bold text-gray-800">${doctor.name}</h5>
                                    <p class="text-sm text-gray-600">${doctor.specialty}</p>
                                    <p class="text-xs text-gray-500">${doctor.skills.slice(0, 3).join(', ')}</p>
                                </div>
                            </div>
                            <div class="text-right">
                                <p class="font-bold text-green-600">${formattedFee}</p>
                                <p class="text-xs text-gray-500">Biaya konsultasi</p>
                            </div>
                        </div>
                    </div>
                `;
            }).join('');
        }

        // Add doctor form submission
        document.getElementById('add-doctor-form').addEventListener('submit', function(e) {
            e.preventDefault();
            
            const doctorData = {
                name: document.getElementById('doctor-name').value.trim(),
                specialty: document.getElementById('doctor-specialty').value.trim(),
                fee: document.getElementById('doctor-fee').value,
                experience: document.getElementById('doctor-experience').value,
                description: document.getElementById('doctor-description').value.trim(),
                skills: document.getElementById('doctor-skills').value.trim(),
                color: document.getElementById('doctor-color').value
            };
            
            // Validation
            if (!doctorData.name || !doctorData.specialty || !doctorData.fee) {
                showNotification('Nama, spesialisasi, dan biaya konsultasi harus diisi!', 'error');
                return;
            }
            
            if (doctorData.fee < 50000 || doctorData.fee > 2000000) {
                showNotification('Biaya konsultasi harus antara Rp 50.000 - Rp 2.000.000!', 'error');
                return;
            }
            
            // Check for duplicate names
            if (doctors.some(doc => doc.name.toLowerCase() === doctorData.name.toLowerCase())) {
                showNotification('Nama dokter sudah ada! Gunakan nama yang berbeda.', 'error');
                return;
            }
            
            const newDoctor = addDoctor(doctorData);
            
            // Reset form
            this.reset();
            
            showNotification(`‚úÖ Dr. ${newDoctor.name} berhasil ditambahkan!`, 'success');
        });

        // Logout function
        function logout() {
            isAdminLoggedIn = false;
            document.getElementById('admin-dashboard').classList.add('hidden');
            document.getElementById('patient-dashboard').classList.add('hidden');
            document.getElementById('main-content').classList.remove('hidden');
            showNotification('Logout berhasil!', 'success');
        }

        // Update current time
        function updateCurrentTime() {
            const now = new Date();
            const timeString = now.toLocaleString('id-ID', {
                weekday: 'long',
                year: 'numeric',
                month: 'long',
                day: 'numeric',
                hour: '2-digit',
                minute: '2-digit'
            });
            document.getElementById('current-time').textContent = timeString;
        }

        // Update dashboard statistics
        function updateDashboardStats() {
            const totalRegistrations = appointments.length;
            const pendingConfirmations = appointments.filter(apt => apt.status === 'pending').length;
            const paidAppointments = appointments.filter(apt => apt.status === 'paid').length;
            
            const today = new Date().toISOString().split('T')[0];
            const todayAppointments = appointments.filter(apt => apt.tanggal === today).length;
            
            document.getElementById('total-registrations').textContent = totalRegistrations;
            document.getElementById('pending-confirmations').textContent = pendingConfirmations;
            document.getElementById('paid-appointments').textContent = paidAppointments;
            document.getElementById('today-appointments').textContent = todayAppointments;
        }

        // Render appointments table
        function renderAppointmentsTable() {
            const tbody = document.getElementById('appointments-table');
            const statusFilter = document.getElementById('status-filter').value;
            
            let filteredAppointments = appointments;
            if (statusFilter) {
                filteredAppointments = appointments.filter(apt => apt.status === statusFilter);
            }
            
            tbody.innerHTML = '';
            
            filteredAppointments.forEach(appointment => {
                const row = document.createElement('tr');
                row.className = 'table-row hover:bg-blue-50 transition-all';
                
                const statusBadge = getStatusBadge(appointment.status);
                const formattedDate = new Date(appointment.tanggal).toLocaleDateString('id-ID');
                const formattedCost = new Intl.NumberFormat('id-ID', {
                    style: 'currency',
                    currency: 'IDR'
                }).format(appointment.biaya);
                
                const paymentProofCell = appointment.paymentProof 
                    ? `<button onclick="showPaymentProof('${appointment.id}')" class="text-green-600 text-xs bg-green-100 px-2 py-1 rounded hover:bg-green-200 transition-colors">‚úì Lihat Bukti</button>`
                    : `<span class="text-gray-400 text-xs">Belum ada</span>`;
                
                row.innerHTML = `
                    <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900">${appointment.id}</td>
                    <td class="px-6 py-4 whitespace-nowrap">
                        <div class="text-sm font-medium text-gray-900">${appointment.nama}</div>
                        <div class="text-sm text-gray-500">${appointment.telepon}</div>
                    </td>
                    <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">${appointment.dokter}</td>
                    <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">${formattedDate}</td>
                    <td class="px-6 py-4 whitespace-nowrap">${statusBadge}</td>
                    <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900">${formattedCost}</td>
                    <td class="px-6 py-4 whitespace-nowrap text-sm">${paymentProofCell}</td>
                    <td class="px-6 py-4 whitespace-nowrap text-sm font-medium">
                        <div class="flex space-x-2">
                            ${getActionButtons(appointment)}
                        </div>
                    </td>
                `;
                
                tbody.appendChild(row);
            });
        }

        // Get status badge HTML
        function getStatusBadge(status) {
            const badges = {
                pending: '<span class="status-pending px-2 py-1 text-xs font-semibold rounded-full border">Menunggu Konfirmasi</span>',
                confirmed: '<span class="status-confirmed px-2 py-1 text-xs font-semibold rounded-full border">Dikonfirmasi</span>',
                paid: '<span class="status-paid px-2 py-1 text-xs font-semibold rounded-full border">Lunas</span>',
                cancelled: '<span class="status-cancelled px-2 py-1 text-xs font-semibold rounded-full border">Dibatalkan</span>'
            };
            return badges[status] || badges.pending;
        }

        // Get action buttons based on status
        function getActionButtons(appointment) {
            let buttons = '';
            
            if (appointment.status === 'pending') {
                buttons += `<button onclick="confirmAppointment('${appointment.id}')" class="bg-blue-600 text-white px-3 py-1 rounded text-xs hover:bg-blue-700">Konfirmasi</button>`;
                buttons += `<button onclick="cancelAppointment('${appointment.id}')" class="bg-red-600 text-white px-3 py-1 rounded text-xs hover:bg-red-700 ml-1">Batal</button>`;
            } else if (appointment.status === 'confirmed') {
                buttons += `<button onclick="showPaymentModal('${appointment.id}')" class="bg-green-600 text-white px-3 py-1 rounded text-xs hover:bg-green-700">Bayar</button>`;
            } else if (appointment.status === 'paid') {
                if (!appointment.checkInTime) {
                    buttons += `<button onclick="checkInPatient('${appointment.id}')" class="bg-purple-600 text-white px-3 py-1 rounded text-xs hover:bg-purple-700">Check In</button>`;
                } else if (!appointment.checkOutTime) {
                    buttons += `<button onclick="checkOutPatient('${appointment.id}')" class="bg-orange-600 text-white px-3 py-1 rounded text-xs hover:bg-orange-700">Check Out</button>`;
                } else {
                    buttons += `<span class="text-green-600 text-xs bg-green-100 px-2 py-1 rounded">Selesai</span>`;
                }
            }
            
            buttons += `<button onclick="showPatientDetailModal('${appointment.id}')" class="bg-gray-600 text-white px-3 py-1 rounded text-xs hover:bg-gray-700 ml-1">Detail</button>`;
            
            return buttons;
        }

        // Confirm appointment
        function confirmAppointment(appointmentId) {
            const appointment = appointments.find(apt => apt.id === appointmentId);
            if (appointment) {
                appointment.status = 'confirmed';
                renderAppointmentsTable();
                updateDashboardStats();
                showNotification(`Janji temu ${appointmentId} berhasil dikonfirmasi!`, 'success');
            }
        }

        // Cancel appointment
        function cancelAppointment(appointmentId) {
            if (confirm('Apakah Anda yakin ingin membatalkan janji temu ini?')) {
                const appointment = appointments.find(apt => apt.id === appointmentId);
                if (appointment) {
                    appointment.status = 'cancelled';
                    renderAppointmentsTable();
                    updateDashboardStats();
                    showNotification(`Janji temu ${appointmentId} dibatalkan.`, 'info');
                }
            }
        }

        // Show payment modal
        function showPaymentModal(appointmentId) {
            const appointment = appointments.find(apt => apt.id === appointmentId);
            if (appointment) {
                currentAppointmentId = appointmentId;
                
                const paymentDetails = document.getElementById('payment-details');
                const formattedCost = new Intl.NumberFormat('id-ID', {
                    style: 'currency',
                    currency: 'IDR'
                }).format(appointment.biaya);
                
                paymentDetails.innerHTML = `
                    <div class="bg-gray-50 p-4 rounded-lg">
                        <h5 class="font-semibold text-gray-800 mb-2">Detail Pembayaran</h5>
                        <div class="space-y-2 text-sm">
                            <div class="flex justify-between">
                                <span>ID Pendaftaran:</span>
                                <span class="font-mono font-bold">${appointment.id}</span>
                            </div>
                            <div class="flex justify-between">
                                <span>Nama Pasien:</span>
                                <span class="font-semibold">${appointment.nama}</span>
                            </div>
                            <div class="flex justify-between">
                                <span>Dokter:</span>
                                <span>${appointment.dokter}</span>
                            </div>
                            <div class="flex justify-between">
                                <span>Tanggal:</span>
                                <span>${new Date(appointment.tanggal).toLocaleDateString('id-ID')}</span>
                            </div>
                            <hr class="my-2">
                            <div class="flex justify-between font-bold text-lg">
                                <span>Total Biaya:</span>
                                <span class="text-green-600">${formattedCost}</span>
                            </div>
                        </div>
                    </div>
                `;
                
                document.getElementById('payment-modal').classList.remove('hidden');
            }
        }

        // Hide payment modal
        function hidePaymentModal() {
            document.getElementById('payment-modal').classList.add('hidden');
            currentAppointmentId = null;
        }

        // Confirm payment
        function confirmPayment() {
            if (currentAppointmentId) {
                const appointment = appointments.find(apt => apt.id === currentAppointmentId);
                if (appointment) {
                    appointment.status = 'paid';
                    hidePaymentModal();
                    renderAppointmentsTable();
                    updateDashboardStats();
                    showNotification(`Pembayaran untuk ${currentAppointmentId} berhasil dikonfirmasi!`, 'success');
                }
            }
        }

        // Check in patient
        function checkInPatient(appointmentId) {
            const appointment = appointments.find(apt => apt.id === appointmentId);
            if (appointment) {
                appointment.checkInTime = new Date();
                renderAppointmentsTable();
                updateDashboardStats();
                showNotification(`Pasien ${appointment.nama} berhasil check-in!`, 'success');
            }
        }

        // Check out patient
        function checkOutPatient(appointmentId) {
            const appointment = appointments.find(apt => apt.id === appointmentId);
            if (appointment) {
                appointment.checkOutTime = new Date();
                renderAppointmentsTable();
                updateDashboardStats();
                showNotification(`Pasien ${appointment.nama} berhasil check-out!`, 'success');
            }
        }

        // Show patient detail modal
        function showPatientDetailModal(appointmentId) {
            const appointment = appointments.find(apt => apt.id === appointmentId);
            if (appointment) {
                const content = document.getElementById('patient-detail-content');
                const formattedDate = new Date(appointment.tanggal).toLocaleDateString('id-ID', {
                    weekday: 'long',
                    year: 'numeric',
                    month: 'long',
                    day: 'numeric'
                });
                const formattedCost = new Intl.NumberFormat('id-ID', {
                    style: 'currency',
                    currency: 'IDR'
                }).format(appointment.biaya);
                
                const formattedBirthDate = appointment.tanggalLahir ? 
                    new Date(appointment.tanggalLahir).toLocaleDateString('id-ID', {
                        year: 'numeric',
                        month: 'long',
                        day: 'numeric'
                    }) : 'Tidak tersedia';
                
                const registrationDate = new Date(appointment.createdAt).toLocaleDateString('id-ID', {
                    weekday: 'long',
                    year: 'numeric',
                    month: 'long',
                    day: 'numeric',
                    hour: '2-digit',
                    minute: '2-digit'
                });
                
                let checkInInfo = '';
                let checkOutInfo = '';
                
                if (appointment.checkInTime) {
                    checkInInfo = `
                        <div class="flex justify-between">
                            <span class="text-gray-600">Check In:</span>
                            <span class="text-green-600 font-semibold">${appointment.checkInTime.toLocaleString('id-ID')}</span>
                        </div>
                    `;
                }
                
                if (appointment.checkOutTime) {
                    checkOutInfo = `
                        <div class="flex justify-between">
                            <span class="text-gray-600">Check Out:</span>
                            <span class="text-blue-600 font-semibold">${appointment.checkOutTime.toLocaleString('id-ID')}</span>
                        </div>
                    `;
                }
                
                const paymentProofSection = appointment.paymentProof ? `
                    <div class="bg-green-50 border border-green-200 p-4 rounded-lg">
                        <h5 class="font-semibold text-green-800 mb-3 flex items-center">
                            <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 24 24">
                                <path d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"/>
                            </svg>
                            Bukti Pembayaran
                        </h5>
                        <div class="flex items-center justify-between">
                            <span class="text-green-700">File: ${appointment.paymentProof}</span>
                            <button onclick="showPaymentProof('${appointment.id}')" class="bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 text-sm">
                                Lihat Bukti
                            </button>
                        </div>
                    </div>
                ` : `
                    <div class="bg-yellow-50 border border-yellow-200 p-4 rounded-lg">
                        <h5 class="font-semibold text-yellow-800 mb-2 flex items-center">
                            <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 24 24">
                                <path d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"/>
                            </svg>
                            Bukti Pembayaran
                        </h5>
                        <p class="text-yellow-700 text-sm">Pasien belum mengupload bukti pembayaran</p>
                    </div>
                `;
                
                content.innerHTML = `
                    <div class="grid lg:grid-cols-2 gap-8">
                        <!-- Data Pribadi Pasien -->
                        <div class="space-y-6">
                            <div class="bg-blue-50 border border-blue-200 p-6 rounded-lg">
                                <h4 class="text-xl font-bold text-blue-800 mb-4 flex items-center">
                                    <svg class="w-6 h-6 mr-2" fill="currentColor" viewBox="0 0 24 24">
                                        <path d="M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"/>
                                    </svg>
                                    Data Pribadi Pasien
                                </h4>
                                
                                <div class="space-y-3">
                                    <div class="flex justify-between">
                                        <span class="text-gray-600">ID Pendaftaran:</span>
                                        <span class="font-mono font-bold text-blue-600">${appointment.id}</span>
                                    </div>
                                    <div class="flex justify-between">
                                        <span class="text-gray-600">Nama Lengkap:</span>
                                        <span class="font-semibold">${appointment.nama}</span>
                                    </div>
                                    <div class="flex justify-between">
                                        <span class="text-gray-600">Telepon:</span>
                                        <span>${appointment.telepon}</span>
                                    </div>
                                    <div class="flex justify-between">
                                        <span class="text-gray-600">Email:</span>
                                        <span>${appointment.email}</span>
                                    </div>
                                    <div class="flex justify-between">
                                        <span class="text-gray-600">Tanggal Lahir:</span>
                                        <span>${formattedBirthDate}</span>
                                    </div>
                                    <div class="flex justify-between">
                                        <span class="text-gray-600">Jenis Kelamin:</span>
                                        <span>${appointment.jenisKelamin || 'Tidak tersedia'}</span>
                                    </div>
                                    <div class="flex justify-between items-start">
                                        <span class="text-gray-600">Alamat:</span>
                                        <span class="text-right max-w-xs">${appointment.alamat || 'Tidak tersedia'}</span>
                                    </div>
                                    <div class="flex justify-between">
                                        <span class="text-gray-600">Tgl Daftar:</span>
                                        <span class="text-sm">${registrationDate}</span>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- Status & Timeline -->
                            <div class="bg-gray-50 border border-gray-200 p-6 rounded-lg">
                                <h5 class="font-bold text-gray-800 mb-4 flex items-center">
                                    <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 24 24">
                                        <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"/>
                                    </svg>
                                    Status & Timeline
                                </h5>
                                
                                <div class="space-y-3">
                                    <div class="flex justify-between items-center">
                                        <span class="text-gray-600">Status Saat Ini:</span>
                                        ${getStatusBadge(appointment.status)}
                                    </div>
                                    ${checkInInfo}
                                    ${checkOutInfo}
                                </div>
                            </div>
                        </div>
                        
                        <!-- Detail Janji Temu -->
                        <div class="space-y-6">
                            <div class="bg-green-50 border border-green-200 p-6 rounded-lg">
                                <h4 class="text-xl font-bold text-green-800 mb-4 flex items-center">
                                    <svg class="w-6 h-6 mr-2" fill="currentColor" viewBox="0 0 24 24">
                                        <path d="M19 3h-1V1h-2v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V8h14v11zM7 10h5v5H7z"/>
                                    </svg>
                                    Detail Janji Temu
                                </h4>
                                
                                <div class="space-y-3">
                                    <div class="flex justify-between">
                                        <span class="text-gray-600">Dokter:</span>
                                        <span class="font-semibold">${appointment.dokter}</span>
                                    </div>
                                    <div class="flex justify-between">
                                        <span class="text-gray-600">Tanggal:</span>
                                        <span>${formattedDate}</span>
                                    </div>
                                    <div class="flex justify-between">
                                        <span class="text-gray-600">Waktu:</span>
                                        <span>${appointment.waktu || 'Tidak tersedia'}:00</span>
                                    </div>
                                    <div class="flex justify-between">
                                        <span class="text-gray-600">Biaya Konsultasi:</span>
                                        <span class="font-bold text-green-600">${formattedCost}</span>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- Keluhan Pasien -->
                            <div class="bg-purple-50 border border-purple-200 p-6 rounded-lg">
                                <h5 class="font-bold text-purple-800 mb-3 flex items-center">
                                    <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 24 24">
                                        <path d="M14 2H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 2 2h8c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm-5 2h2v3l1-1 1 1V4h2v5l-2-2-2 2V4z"/>
                                    </svg>
                                    Keluhan / Gejala
                                </h5>
                                <div class="bg-white p-4 rounded border">
                                    <p class="text-gray-700">${appointment.keluhan || 'Konsultasi umum'}</p>
                                </div>
                            </div>
                            
                            <!-- Bukti Pembayaran -->
                            ${paymentProofSection}
                        </div>
                    </div>
                    
                    <!-- Action Buttons -->
                    <div class="mt-8 pt-6 border-t border-gray-200">
                        <div class="flex flex-wrap gap-3 justify-center">
                            ${getDetailModalActionButtons(appointment)}
                        </div>
                    </div>
                `;
                
                document.getElementById('patient-detail-modal').classList.remove('hidden');
            }
        }
        
        // Hide patient detail modal
        function hidePatientDetailModal() {
            document.getElementById('patient-detail-modal').classList.add('hidden');
        }
        
        // Get action buttons for detail modal
        function getDetailModalActionButtons(appointment) {
            let buttons = '';
            
            if (appointment.status === 'pending') {
                buttons += `
                    <button onclick="confirmAppointment('${appointment.id}'); hidePatientDetailModal();" class="bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 font-semibold">
                        ‚úÖ Konfirmasi Janji Temu
                    </button>
                    <button onclick="cancelAppointment('${appointment.id}'); hidePatientDetailModal();" class="bg-red-600 text-white px-6 py-3 rounded-lg hover:bg-red-700 font-semibold">
                        ‚ùå Batalkan
                    </button>
                `;
            } else if (appointment.status === 'confirmed') {
                buttons += `
                    <button onclick="hidePatientDetailModal(); showPaymentModal('${appointment.id}');" class="bg-green-600 text-white px-6 py-3 rounded-lg hover:bg-green-700 font-semibold">
                        üí∞ Konfirmasi Pembayaran
                    </button>
                `;
                if (appointment.paymentProof) {
                    buttons += `
                        <button onclick="showPaymentProof('${appointment.id}')" class="bg-purple-600 text-white px-6 py-3 rounded-lg hover:bg-purple-700 font-semibold">
                            üñºÔ∏è Lihat Bukti Bayar
                        </button>
                    `;
                }
            } else if (appointment.status === 'paid') {
                if (!appointment.checkInTime) {
                    buttons += `
                        <button onclick="checkInPatient('${appointment.id}'); hidePatientDetailModal();" class="bg-purple-600 text-white px-6 py-3 rounded-lg hover:bg-purple-700 font-semibold">
                            üìù Check In Pasien
                        </button>
                    `;
                } else if (!appointment.checkOutTime) {
                    buttons += `
                        <button onclick="checkOutPatient('${appointment.id}'); hidePatientDetailModal();" class="bg-orange-600 text-white px-6 py-3 rounded-lg hover:bg-orange-700 font-semibold">
                            ‚úÖ Check Out Pasien
                        </button>
                    `;
                } else {
                    buttons += `
                        <div class="bg-green-100 text-green-800 px-6 py-3 rounded-lg font-semibold">
                            ‚úÖ Konsultasi Selesai
                        </div>
                    `;
                }
                
                if (appointment.paymentProof) {
                    buttons += `
                        <button onclick="showPaymentProof('${appointment.id}')" class="bg-gray-600 text-white px-6 py-3 rounded-lg hover:bg-gray-700 font-semibold">
                            üñºÔ∏è Lihat Bukti Bayar
                        </button>
                    `;
                }
            }
            
            return buttons;
        }
        
        // Show payment proof modal
        function showPaymentProof(appointmentId) {
            const appointment = appointments.find(apt => apt.id === appointmentId);
            if (appointment && appointment.paymentProof) {
                currentAppointmentId = appointmentId;
                
                document.getElementById('payment-proof-patient-info').textContent = 
                    `Bukti pembayaran dari ${appointment.nama} (${appointment.id})`;
                
                const content = document.getElementById('payment-proof-content');
                
                // Display actual uploaded image or sample image
                if (appointment.paymentProofImage) {
                    content.innerHTML = `
                        <div class="space-y-4">
                            <!-- Image Display -->
                            <div class="bg-white border border-gray-200 rounded-lg p-4">
                                <div class="text-center mb-4">
                                    <h4 class="text-lg font-semibold text-gray-800 mb-2">üì∑ Bukti Transfer</h4>
                                    <p class="text-sm text-gray-600">File: ${appointment.paymentProof}</p>
                                </div>
                                
                                <div class="flex justify-center mb-4">
                                    <div class="relative max-w-md w-full">
                                        <img src="${appointment.paymentProofImage}" 
                                             alt="Bukti Pembayaran ${appointment.id}" 
                                             class="w-full h-auto rounded-lg border border-gray-300 shadow-lg cursor-pointer hover:shadow-xl transition-shadow"
                                             onclick="openImageFullscreen('${appointment.paymentProofImage}', '${appointment.paymentProof}')"
                                             style="max-height: 400px; object-fit: contain;">
                                        <div class="absolute top-2 right-2 bg-black bg-opacity-50 text-white px-2 py-1 rounded text-xs">
                                            Klik untuk perbesar
                                        </div>
                                    </div>
                                </div>
                                
                                <!-- Image Actions -->
                                <div class="flex justify-center space-x-2 mb-4">
                                    <button onclick="openImageFullscreen('${appointment.paymentProofImage}', '${appointment.paymentProof}')" 
                                            class="bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 text-sm flex items-center">
                                        <svg class="w-4 h-4 mr-2" fill="currentColor" viewBox="0 0 24 24">
                                            <path d="M15 3l2.3 2.3-2.89 2.87 1.42 1.42L18.7 6.7 21 9V3h-6zM3 9l2.3-2.3 2.87 2.89 1.42-1.42L6.7 5.3 9 3H3v6zm6 12l-2.3-2.3 2.89-2.87-1.42-1.42L5.3 17.3 3 15v6h6zm12-6l-2.3 2.3-2.87-2.89-1.42 1.42 2.89 2.87L15 21h6v-6z"/>
                                        </svg>
                                        Perbesar
                                    </button>
                                    <button onclick="downloadImage('${appointment.paymentProofImage}', '${appointment.paymentProof}')" 
                                            class="bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 text-sm flex items-center">
                                        <svg class="w-4 h-4 mr-2" fill="currentColor" viewBox="0 0 24 24">
                                            <path d="M19 9h-4V3H9v6H5l7 7 7-7zM5 18v2h14v-2H5z"/>
                                        </svg>
                                        Download
                                    </button>
                                </div>
                            </div>
                            
                            <!-- Transfer Details -->
                            <div class="bg-gray-50 border border-gray-200 rounded-lg p-4">
                                <h5 class="font-semibold text-gray-800 mb-3 flex items-center">
                                    <svg class="w-5 h-5 mr-2 text-blue-600" fill="currentColor" viewBox="0 0 24 24">
                                        <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"/>
                                    </svg>
                                    Detail Transfer
                                </h5>
                                <div class="grid grid-cols-1 md:grid-cols-2 gap-4 text-sm">
                                    <div class="space-y-2">
                                        <div class="flex justify-between">
                                            <span class="text-gray-600">Dari:</span>
                                            <span class="font-semibold">${appointment.nama}</span>
                                        </div>
                                        <div class="flex justify-between">
                                            <span class="text-gray-600">Ke:</span>
                                            <span class="font-semibold">RS Sehat Sejahtera</span>
                                        </div>
                                        <div class="flex justify-between">
                                            <span class="text-gray-600">ID Pasien:</span>
                                            <span class="font-mono font-bold text-blue-600">${appointment.id}</span>
                                        </div>
                                    </div>
                                    <div class="space-y-2">
                                        <div class="flex justify-between">
                                            <span class="text-gray-600">Jumlah:</span>
                                            <span class="font-bold text-green-600">${new Intl.NumberFormat('id-ID', {
                                                style: 'currency',
                                                currency: 'IDR'
                                            }).format(appointment.biaya + 5000)}</span>
                                        </div>
                                        <div class="flex justify-between">
                                            <span class="text-gray-600">Tanggal Upload:</span>
                                            <span>${new Date().toLocaleDateString('id-ID')}</span>
                                        </div>
                                        <div class="flex justify-between">
                                            <span class="text-gray-600">Status:</span>
                                            <span class="text-yellow-600 font-semibold">Menunggu Verifikasi</span>
                                        </div>
                                    </div>
                                </div>
                                
                                <div class="mt-3 pt-3 border-t border-gray-300">
                                    <div class="flex justify-between items-start">
                                        <span class="text-gray-600">Keterangan:</span>
                                        <span class="text-right max-w-xs">Pembayaran konsultasi ${appointment.dokter}</span>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- Verification Status -->
                            <div class="bg-yellow-50 border border-yellow-200 rounded-lg p-4">
                                <div class="flex items-start">
                                    <svg class="w-5 h-5 text-yellow-600 mr-2 mt-0.5" fill="currentColor" viewBox="0 0 24 24">
                                        <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"/>
                                    </svg>
                                    <div>
                                        <h6 class="font-semibold text-yellow-800">Status Verifikasi</h6>
                                        <p class="text-yellow-700 text-sm mt-1">
                                            Bukti pembayaran telah diterima dan sedang dalam proses verifikasi oleh tim keuangan. 
                                            Proses verifikasi biasanya memakan waktu 1-2 jam kerja.
                                        </p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    `;
                } else {
                    // Fallback for appointments without image
                    content.innerHTML = `
                        <div class="bg-gray-100 border-2 border-dashed border-gray-300 rounded-lg p-8 mb-4">
                            <div class="text-center">
                                <svg class="w-16 h-16 text-gray-400 mx-auto mb-4" fill="currentColor" viewBox="0 0 24 24">
                                    <path d="M21 19V5c0-1.1-.9-2-2-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2zM8.5 13.5l2.5 3.01L14.5 12l4.5 6H5l3.5-4.5z"/>
                                </svg>
                                <h4 class="text-lg font-semibold text-gray-700 mb-2">Bukti Transfer</h4>
                                <p class="text-gray-600 mb-4">File: ${appointment.paymentProof}</p>
                                <div class="bg-white border border-gray-200 rounded-lg p-4 text-left">
                                    <h5 class="font-semibold text-gray-800 mb-2">Detail Transfer:</h5>
                                    <div class="space-y-1 text-sm text-gray-600">
                                        <p><strong>Dari:</strong> ${appointment.nama}</p>
                                        <p><strong>Ke:</strong> RS Sehat Sejahtera</p>
                                        <p><strong>Jumlah:</strong> ${new Intl.NumberFormat('id-ID', {
                                            style: 'currency',
                                            currency: 'IDR'
                                        }).format(appointment.biaya + 5000)}</p>
                                        <p><strong>Tanggal:</strong> ${new Date().toLocaleDateString('id-ID')}</p>
                                        <p><strong>Keterangan:</strong> Pembayaran konsultasi ${appointment.id}</p>
                                    </div>
                                </div>
                                <div class="mt-4 text-xs text-gray-500">
                                    * Gambar bukti pembayaran tidak tersedia
                                </div>
                            </div>
                        </div>
                    `;
                }
                
                document.getElementById('payment-proof-modal').classList.remove('hidden');
            }
        }
        
        // Hide payment proof modal
        function hidePaymentProofModal() {
            document.getElementById('payment-proof-modal').classList.add('hidden');
            currentAppointmentId = null;
        }
        
        // Approve payment from proof
        function approvePaymentFromProof() {
            if (currentAppointmentId) {
                const appointment = appointments.find(apt => apt.id === currentAppointmentId);
                if (appointment) {
                    appointment.status = 'paid';
                    hidePaymentProofModal();
                    renderAppointmentsTable();
                    updateDashboardStats();
                    showNotification(`Pembayaran untuk ${currentAppointmentId} berhasil disetujui berdasarkan bukti transfer!`, 'success');
                }
            }
        }

        // Refresh appointments
        function refreshAppointments() {
            renderAppointmentsTable();
            updateDashboardStats();
            showNotification('Data berhasil diperbarui!', 'success');
        }

        // Status filter change
        document.getElementById('status-filter').addEventListener('change', renderAppointmentsTable);

        // Patient status functions
        function showPatientStatus() {
            if (currentAppointmentId) {
                const appointment = appointments.find(apt => apt.id === currentAppointmentId);
                if (appointment) {
                    const statusContent = document.getElementById('patient-status-content');
                    const formattedDate = new Date(appointment.tanggal).toLocaleDateString('id-ID');
                    const formattedCost = new Intl.NumberFormat('id-ID', {
                        style: 'currency',
                        currency: 'IDR'
                    }).format(appointment.biaya);
                    
                    let statusMessage = '';
                    let statusColor = '';
                    
                    switch (appointment.status) {
                        case 'pending':
                            statusMessage = 'Menunggu konfirmasi dari admin rumah sakit';
                            statusColor = 'text-yellow-600';
                            break;
                        case 'confirmed':
                            statusMessage = 'Janji temu dikonfirmasi, silakan datang sesuai jadwal';
                            statusColor = 'text-blue-600';
                            break;
                        case 'paid':
                            statusMessage = 'Pembayaran lunas, terima kasih!';
                            statusColor = 'text-green-600';
                            break;
                        case 'cancelled':
                            statusMessage = 'Janji temu dibatalkan';
                            statusColor = 'text-red-600';
                            break;
                    }
                    
                    statusContent.innerHTML = `
                        <div class="bg-gray-50 p-6 rounded-lg">
                            <div class="text-center mb-4">
                                <h4 class="text-xl font-bold text-gray-800">ID Pendaftaran</h4>
                                <p class="text-2xl font-mono font-bold text-blue-600">${appointment.id}</p>
                            </div>
                            
                            <div class="space-y-3">
                                <div class="flex justify-between">
                                    <span class="text-gray-600">Nama:</span>
                                    <span class="font-semibold">${appointment.nama}</span>
                                </div>
                                <div class="flex justify-between">
                                    <span class="text-gray-600">Dokter:</span>
                                    <span>${appointment.dokter}</span>
                                </div>
                                <div class="flex justify-between">
                                    <span class="text-gray-600">Tanggal:</span>
                                    <span>${formattedDate}</span>
                                </div>
                                <div class="flex justify-between">
                                    <span class="text-gray-600">Biaya:</span>
                                    <span class="font-semibold">${formattedCost}</span>
                                </div>
                                <hr class="my-3">
                                <div class="text-center">
                                    <p class="text-sm text-gray-600 mb-2">Status Saat Ini:</p>
                                    <p class="font-bold ${statusColor} text-lg">${statusMessage}</p>
                                </div>
                            </div>
                        </div>
                        
                        <div class="bg-blue-50 p-4 rounded-lg">
                            <h5 class="font-semibold text-blue-800 mb-2">Informasi Penting:</h5>
                            <ul class="text-sm text-blue-700 space-y-1">
                                <li>‚Ä¢ Datang 15 menit sebelum jadwal</li>
                                <li>‚Ä¢ Bawa KTP dan kartu BPJS (jika ada)</li>
                                <li>‚Ä¢ Hubungi (021) 123-4567 jika ada perubahan</li>
                            </ul>
                        </div>
                    `;
                    
                    document.getElementById('status-modal').classList.remove('hidden');
                }
            }
        }

        function hideStatusModal() {
            document.getElementById('status-modal').classList.add('hidden');
        }

        // Form submission
        document.getElementById('appointment-form').addEventListener('submit', function(e) {
            e.preventDefault();
            
            // Final validation for step 3
            const agreeTerms = document.getElementById('agree-terms').checked;
            const agreePrivacy = document.getElementById('agree-privacy').checked;
            
            if (!agreeTerms) {
                showNotification('Anda harus menyetujui syarat dan ketentuan!', 'error');
                document.getElementById('agree-terms').focus();
                return;
            }
            
            if (!agreePrivacy) {
                showNotification('Anda harus menyetujui kebijakan privasi!', 'error');
                document.getElementById('agree-privacy').focus();
                return;
            }
            
            // Get all form data
            const nama = document.getElementById('nama').value.trim();
            const telepon = document.getElementById('telepon').value.trim();
            const email = document.getElementById('email').value.trim();
            const tanggalLahir = document.getElementById('tanggal-lahir').value;
            const jenisKelamin = document.getElementById('jenis-kelamin').value;
            const alamat = document.getElementById('alamat').value.trim();
            const dokter = selectedDoctorName;
            const tanggal = document.getElementById('tanggal').value;
            const waktu = document.getElementById('waktu').value;
            const keluhan = document.getElementById('keluhan').value.trim() || 'Konsultasi umum';
            const agreeContact = document.getElementById('agree-contact').checked;
            
            // Generate unique appointment ID
            const appointmentId = 'RSH' + String(appointments.length + 1).padStart(3, '0');
            
            // Create new appointment object with all data
            const newAppointment = {
                id: appointmentId,
                nama: nama,
                telepon: telepon,
                email: email,
                tanggalLahir: tanggalLahir,
                jenisKelamin: jenisKelamin,
                alamat: alamat,
                dokter: dokter,
                tanggal: tanggal,
                waktu: waktu,
                keluhan: keluhan,
                status: 'pending',
                biaya: selectedDoctorCost,
                agreeContact: agreeContact,
                createdAt: new Date(),
                paymentProof: null,
                checkInTime: null,
                checkOutTime: null
            };
            
            // Add to appointments array
            appointments.push(newAppointment);
            currentAppointmentId = appointmentId;
            
            // Reset form and steps
            this.reset();
            resetFormSteps();
            
            // Show success message with appointment details
            document.getElementById('registration-id').textContent = appointmentId;
            document.getElementById('success-message').classList.remove('hidden');
            
            // Scroll to success message smoothly
            document.getElementById('success-message').scrollIntoView({
                behavior: 'smooth',
                block: 'center'
            });
            
            // Update admin dashboard if logged in
            if (isAdminLoggedIn) {
                updateDashboardStats();
                renderAppointmentsTable();
            }
            
            // Show comprehensive notification sequence
            showNotification(`üéâ Pendaftaran berhasil! ID: ${appointmentId}`, 'success');
            
            setTimeout(() => {
                showNotification(`üìã Data Anda telah tersimpan. Admin akan menghubungi dalam 1x24 jam untuk konfirmasi.`, 'info');
            }, 2000);
            
            setTimeout(() => {
                showNotification(`üîê Gunakan ID: ${appointmentId} dan nomor telepon untuk login dan cek status janji temu!`, 'warning');
            }, 4000);
            
            // Auto-hide success message after 20 seconds
            setTimeout(() => {
                const successMsg = document.getElementById('success-message');
                if (successMsg && !successMsg.classList.contains('hidden')) {
                    successMsg.classList.add('hidden');
                }
            }, 20000);
        });

        function resetFormSteps() {
            // Reset to step 1
            currentStep = 1;
            
            // Hide all steps except step 1
            document.getElementById('step-1').classList.remove('hidden');
            document.getElementById('step-2').classList.add('hidden');
            document.getElementById('step-3').classList.add('hidden');
            
            // Reset progress indicators
            updateProgressIndicators(1);
            
            // Reset doctor selection
            selectedDoctor = null;
            selectedDoctorName = '';
            selectedDoctorCost = 0;
            
            // Remove doctor selection styling
            document.querySelectorAll('.doctor-option').forEach(option => {
                option.classList.remove('border-blue-500', 'bg-blue-50');
                option.classList.add('border-gray-300');
            });
        }

        // Notification system
        function showNotification(message, type = 'info') {
            const container = document.getElementById('notification-container');
            const notification = document.createElement('div');
            
            const colors = {
                success: 'bg-green-500',
                error: 'bg-red-500',
                info: 'bg-blue-500',
                warning: 'bg-yellow-500'
            };
            
            notification.className = `notification ${colors[type]} text-white px-6 py-4 rounded-lg shadow-lg max-w-md`;
            notification.innerHTML = `
                <div class="flex items-start justify-between">
                    <span class="text-sm leading-relaxed pr-2">${message}</span>
                    <button onclick="this.parentElement.parentElement.remove()" class="ml-2 text-white hover:text-gray-200 flex-shrink-0">
                        <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd"></path>
                        </svg>
                    </button>
                </div>
            `;
            
            container.appendChild(notification);
            
            // Auto remove after 8 seconds for better readability
            const duration = type === 'info' || type === 'warning' ? 8000 : 6000;
            setTimeout(() => {
                if (notification.parentElement) {
                    notification.remove();
                }
            }, duration);
        }

        // Set minimum date to today for appointment
        document.getElementById('tanggal').min = new Date().toISOString().split('T')[0];
        
        // Set maximum date for birth date (18 years ago for adults, but allow all ages)
        const today = new Date();
        const maxBirthDate = new Date(today.getFullYear() - 100, today.getMonth(), today.getDate());
        document.getElementById('tanggal-lahir').max = today.toISOString().split('T')[0];
        document.getElementById('tanggal-lahir').min = maxBirthDate.toISOString().split('T')[0];

        // Enhanced scroll animations
        const observerOptions = {
            threshold: 0.1,
            rootMargin: '0px 0px -50px 0px'
        };

        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.classList.add('animate-in');
                    // Add stagger effect for multiple elements
                    const siblings = Array.from(entry.target.parentNode.children);
                    const index = siblings.indexOf(entry.target);
                    entry.target.style.animationDelay = `${index * 0.1}s`;
                }
            });
        }, observerOptions);

        // Observe all animated elements
        document.querySelectorAll('.fade-in, .scale-in, .slide-in-left, .slide-in-right, .bounce-in').forEach(el => {
            observer.observe(el);
        });

        // Add parallax effect to floating elements
        window.addEventListener('scroll', () => {
            const scrolled = window.pageYOffset;
            const parallax = document.querySelectorAll('.floating-animation');
            const speed = 0.5;

            parallax.forEach(element => {
                const yPos = -(scrolled * speed);
                element.style.transform = `translateY(${yPos}px)`;
            });
        });

        // Add smooth reveal animation for sections
        const revealSections = document.querySelectorAll('section');
        const revealObserver = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.style.opacity = '1';
                    entry.target.style.transform = 'translateY(0)';
                }
            });
        }, { threshold: 0.1 });

        revealSections.forEach(section => {
            section.style.opacity = '0';
            section.style.transform = 'translateY(20px)';
            section.style.transition = 'opacity 0.8s ease, transform 0.8s ease';
            revealObserver.observe(section);
        });

        // Image fullscreen and download functions
        function openImageFullscreen(imageSrc, fileName) {
            // Create fullscreen overlay
            const overlay = document.createElement('div');
            overlay.className = 'fixed inset-0 z-[60] bg-black bg-opacity-90 flex items-center justify-center p-4';
            overlay.onclick = function(e) {
                if (e.target === overlay) {
                    document.body.removeChild(overlay);
                }
            };
            
            // Create image container
            const container = document.createElement('div');
            container.className = 'relative max-w-full max-h-full';
            
            // Create image
            const img = document.createElement('img');
            img.src = imageSrc;
            img.alt = fileName;
            img.className = 'max-w-full max-h-full object-contain rounded-lg shadow-2xl';
            
            // Create close button
            const closeBtn = document.createElement('button');
            closeBtn.innerHTML = `
                <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24">
                    <path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/>
                </svg>
            `;
            closeBtn.className = 'absolute top-4 right-4 bg-black bg-opacity-50 text-white p-2 rounded-full hover:bg-opacity-70 transition-all';
            closeBtn.onclick = function() {
                document.body.removeChild(overlay);
            };
            
            // Create download button
            const downloadBtn = document.createElement('button');
            downloadBtn.innerHTML = `
                <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 24 24">
                    <path d="M19 9h-4V3H9v6H5l7 7 7-7zM5 18v2h14v-2H5z"/>
                </svg>
                Download
            `;
            downloadBtn.className = 'absolute bottom-4 right-4 bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition-all flex items-center';
            downloadBtn.onclick = function() {
                downloadImage(imageSrc, fileName);
            };
            
            // Create info panel
            const infoPanel = document.createElement('div');
            infoPanel.className = 'absolute bottom-4 left-4 bg-black bg-opacity-50 text-white p-3 rounded-lg max-w-xs';
            infoPanel.innerHTML = `
                <h4 class="font-semibold mb-1">üì∑ ${fileName}</h4>
                <p class="text-sm opacity-90">Klik di luar gambar atau tombol ‚úï untuk menutup</p>
            `;
            
            container.appendChild(img);
            container.appendChild(closeBtn);
            container.appendChild(downloadBtn);
            container.appendChild(infoPanel);
            overlay.appendChild(container);
            document.body.appendChild(overlay);
            
            // Add keyboard support
            const handleKeydown = function(e) {
                if (e.key === 'Escape') {
                    document.body.removeChild(overlay);
                    document.removeEventListener('keydown', handleKeydown);
                }
            };
            document.addEventListener('keydown', handleKeydown);
        }
        
        function downloadImage(imageSrc, fileName) {
            try {
                // Create a temporary link element
                const link = document.createElement('a');
                link.href = imageSrc;
                link.download = fileName || 'bukti_pembayaran.jpg';
                
                // Append to body, click, and remove
                document.body.appendChild(link);
                link.click();
                document.body.removeChild(link);
                
                showNotification('üì• Bukti pembayaran berhasil didownload!', 'success');
            } catch (error) {
                showNotification('‚ùå Gagal mendownload gambar. Silakan coba lagi.', 'error');
                console.error('Download error:', error);
            }
        }
        
        // Preview payment image before upload
        function previewPaymentImage(input) {
            const file = input.files[0];
            if (!file) {
                clearImagePreview();
                return;
            }
            
            // Validate file type
            if (!file.type.startsWith('image/')) {
                showNotification('File harus berupa gambar!', 'error');
                input.value = '';
                clearImagePreview();
                return;
            }
            
            // Validate file size (5MB)
            if (file.size > 5 * 1024 * 1024) {
                showNotification('Ukuran file terlalu besar! Maksimal 5MB.', 'error');
                input.value = '';
                clearImagePreview();
                return;
            }
            
            // Show preview
            const reader = new FileReader();
            reader.onload = function(e) {
                const previewArea = document.getElementById('image-preview-area');
                const previewImage = document.getElementById('preview-image');
                const previewFilename = document.getElementById('preview-filename');
                const previewFilesize = document.getElementById('preview-filesize');
                
                previewImage.src = e.target.result;
                previewFilename.textContent = file.name;
                previewFilesize.textContent = `Ukuran: ${formatFileSize(file.size)}`;
                previewArea.classList.remove('hidden');
                
                showNotification('‚úÖ Gambar siap untuk diupload!', 'success');
            };
            
            reader.onerror = function() {
                showNotification('Gagal membaca file gambar!', 'error');
                clearImagePreview();
            };
            
            reader.readAsDataURL(file);
        }
        
        // Clear image preview
        function clearImagePreview() {
            const previewArea = document.getElementById('image-preview-area');
            const previewImage = document.getElementById('preview-image');
            const fileInput = document.getElementById('payment-proof');
            
            previewArea.classList.add('hidden');
            previewImage.src = '';
            fileInput.value = '';
        }
        
        // Format file size helper
        function formatFileSize(bytes) {
            if (bytes === 0) return '0 Bytes';
            const k = 1024;
            const sizes = ['Bytes', 'KB', 'MB', 'GB'];
            const i = Math.floor(Math.log(bytes) / Math.log(k));
            return parseFloat((bytes / Math.pow(k, i)).toFixed(2)) + ' ' + sizes[i];
        }

        // Initialize page
        renderDoctorsGrid();
        renderDoctorOptions();
        
        // Initialize dashboard if admin is logged in
        if (isAdminLoggedIn) {
            updateDashboardStats();
            renderAppointmentsTable();
        }
    </script>
<script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'9b0d342de1eeddfc',t:'MTc2NjIxMzQwOS4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>
